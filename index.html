<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AION - Prediction Market</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <!-- Ethers.js for Web3 -->
    <script src="https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js"></script>
    <!-- Pyth Network SDK -->
    <script src="https://cdn.jsdelivr.net/npm/@pythnetwork/pyth-evm-js@1.0.0/lib/index.iife.min.js"></script>
</head>

<body class="bg-white min-h-screen font-sans">
    <!-- Header -->
    <header style="background: linear-gradient(135deg, #1a0033 0%, #2d0052 50%, #4a0080 100%);"
        class="shadow-lg sticky top-0 z-50 border-b border-purple-400/30">
        <div class="container mx-auto px-4 lg:px-6">
            <div class="flex items-center justify-between h-16">
                <!-- Logo -->
                <div class="flex items-center space-x-3 flex-shrink-0">
                    <img src="images/aion-logo.svg" alt="AION Logo" class="w-10 h-10">
                    <span class="text-xl font-bold text-white tracking-tight">AION</span>
                </div>

                <!-- Navigation -->
                <nav class="hidden lg:flex items-center space-x-1 flex-1 justify-center px-4">
                    <button onclick="showPage('dashboard')"
                        class="nav-btn active flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="layout-dashboard" class="h-4 w-4"></i>
                        <span>Dashboard</span>
                    </button>
                    <button onclick="showPage('about')"
                        class="nav-btn flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="home" class="h-4 w-4"></i>
                        <span>Home</span>
                    </button>
                    <button onclick="showPage('marketplace')"
                        class="nav-btn flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="store" class="h-4 w-4"></i>
                        <span>Marketplace</span>
                    </button>
                    <button onclick="showPage('leaderboard')"
                        class="nav-btn flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="trophy" class="h-4 w-4"></i>
                        <span>Leaderboard</span>
                    </button>
                    <button onclick="showPage('battle')"
                        class="nav-btn flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="swords" class="h-4 w-4"></i>
                        <span>Battle</span>
                    </button>
                    <button onclick="showPage('governance')"
                        class="nav-btn flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="vote" class="h-4 w-4"></i>
                        <span>Governance</span>
                    </button>
                    <button onclick="showPage('userinfo')"
                        class="nav-btn flex items-center space-x-2 px-3 py-2 rounded-lg transition-all text-sm font-medium">
                        <i data-lucide="user" class="h-4 w-4"></i>
                        <span>User Info</span>
                    </button>
                </nav>

                <!-- Right Side Actions -->
                <div class="flex items-center space-x-2 flex-shrink-0">
                    <!-- Mobile Menu Button -->
                    <button id="mobileMenuBtn" onclick="toggleMobileMenu()"
                        class="lg:hidden p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-all">
                        <i data-lucide="menu" class="h-5 w-5 text-white"></i>
                    </button>

                    <!-- Theme Toggle -->
                    <button id="themeToggle" onclick="toggleTheme()"
                        class="hidden sm:block p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-all"
                        title="Toggle Theme">
                        <i data-lucide="sun" class="h-5 w-5 text-white"></i>
                    </button>

                    <!-- Connect Wallet -->
                    <button id="connectWallet" onclick="connectWallet()"
                        class="bg-white hover:bg-purple-100 px-3 sm:px-4 py-2 rounded-lg font-semibold transition-all text-sm shadow-lg"
                        style="color: #320066;">
                        <span id="walletText" class="hidden sm:inline">Connect Wallet</span>
                        <span class="sm:hidden">Connect</span>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div id="mobileMenu" class="hidden lg:hidden border-t border-purple-500/20 bg-black/30 backdrop-blur-lg">
            <nav class="container mx-auto px-4 py-3 space-y-1">
                <button onclick="showPage('dashboard'); toggleMobileMenu();"
                    class="nav-btn-mobile active w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="layout-dashboard" class="h-5 w-5"></i>
                    <span>Dashboard</span>
                </button>
                <button onclick="showPage('about'); toggleMobileMenu();"
                    class="nav-btn-mobile w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="home" class="h-5 w-5"></i>
                    <span>Home</span>
                </button>
                <button onclick="showPage('marketplace'); toggleMobileMenu();"
                    class="nav-btn-mobile w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="store" class="h-5 w-5"></i>
                    <span>Marketplace</span>
                </button>
                <button onclick="showPage('leaderboard'); toggleMobileMenu();"
                    class="nav-btn-mobile w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="trophy" class="h-5 w-5"></i>
                    <span>Leaderboard</span>
                </button>
                <button onclick="showPage('battle'); toggleMobileMenu();"
                    class="nav-btn-mobile w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="swords" class="h-5 w-5"></i>
                    <span>Battle</span>
                </button>
                <button onclick="showPage('governance'); toggleMobileMenu();"
                    class="nav-btn-mobile w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="vote" class="h-5 w-5"></i>
                    <span>Governance</span>
                </button>
                <button onclick="showPage('userinfo'); toggleMobileMenu();"
                    class="nav-btn-mobile w-full flex items-center space-x-3 px-4 py-3 rounded-lg text-left">
                    <i data-lucide="user" class="h-5 w-5"></i>
                    <span>User Info</span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <!-- Dashboard Page -->
        <div id="dashboard" class="page relative">
            <!-- Background Effects -->
            <div class="absolute inset-0 -z-10 opacity-10">
                <div class="absolute w-96 h-96 bg-red-600 rounded-full blur-3xl"
                    style="top: 10%; left: 10%; animation: float 8s ease-in-out infinite;"></div>
                <div class="absolute w-96 h-96 bg-red-500 rounded-full blur-3xl"
                    style="bottom: 10%; right: 10%; animation: float 10s ease-in-out infinite reverse;"></div>
            </div>

            <!-- Live Banner -->
            <div class="bg-gradient-to-r from-red-600 to-red-800 text-white py-2 px-4 rounded-lg mb-6 overflow-hidden">
                <div class="flex items-center gap-2 animate-pulse">
                    <span class="w-2 h-2 bg-green-400 rounded-full animate-ping"></span>
                    <span class="text-sm font-semibold">LIVE: 1,248 Active Battles ‚Ä¢ $42,870 in Rewards ‚Ä¢ 582 Wins
                        Today</span>
                </div>
            </div>

            <!-- Top Stats Bar -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                <div
                    class="bg-gradient-to-br from-gray-900 to-black border border-red-500/20 backdrop-blur-md p-6 rounded-xl shadow-2xl hover:shadow-red-500/20 transition-all hover:scale-105">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-xs font-medium text-gray-400 uppercase">Total Value Locked</h3>
                        <i data-lucide="trending-up" class="h-4 w-4 text-green-400"></i>
                    </div>
                    <p class="text-3xl font-bold text-green-400">$2.4M</p>
                    <p class="text-xs text-gray-500 mt-1">+12.5% this week</p>
                </div>
                <div
                    class="bg-gradient-to-br from-gray-900 to-black border border-red-500/20 backdrop-blur-md p-6 rounded-xl shadow-2xl hover:shadow-red-500/20 transition-all hover:scale-105">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-xs font-medium text-gray-400 uppercase">Active Predictions</h3>
                        <i data-lucide="activity" class="h-4 w-4 text-blue-400"></i>
                    </div>
                    <p class="text-3xl font-bold text-blue-400">156</p>
                    <p class="text-xs text-gray-500 mt-1">+8 new today</p>
                </div>
                <div
                    class="bg-gradient-to-br from-gray-900 to-black border border-red-500/20 backdrop-blur-md p-6 rounded-xl shadow-2xl hover:shadow-red-500/20 transition-all hover:scale-105">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-xs font-medium text-gray-400 uppercase">Accuracy Rate</h3>
                        <i data-lucide="target" class="h-4 w-4 text-purple-400"></i>
                    </div>
                    <p class="text-3xl font-bold text-purple-400">92.3%</p>
                    <p class="text-xs text-gray-500 mt-1">AI Models Average</p>
                </div>
                <div
                    class="bg-gradient-to-br from-gray-900 to-black border border-red-500/20 backdrop-blur-md p-6 rounded-xl shadow-2xl hover:shadow-red-500/20 transition-all hover:scale-105">
                    <div class="flex items-center justify-between mb-2">
                        <h3 class="text-xs font-medium text-gray-400 uppercase">Total Users</h3>
                        <i data-lucide="users" class="h-4 w-4 text-orange-400"></i>
                    </div>
                    <p class="text-3xl font-bold text-orange-400">8,429</p>
                    <p class="text-xs text-gray-500 mt-1">+142 this week</p>
                </div>
            </div>

            <!-- Main Grid Layout -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Left Column (2/3) -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Battle Zone -->
                    <div
                        class="bg-gradient-to-br from-red-900/20 to-black border-2 border-red-500 backdrop-blur-md rounded-xl p-6 shadow-2xl shadow-red-500/30 hover:shadow-red-500/50 transition-all relative overflow-hidden">
                        <div class="absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent animate-pulse">
                        </div>
                        <div class="relative z-10">
                            <div class="flex items-center justify-between mb-4">
                                <h2 class="text-2xl font-bold text-white flex items-center gap-2">
                                    <i data-lucide="swords" class="h-6 w-6 text-red-500"></i>
                                    Battle Zone
                                </h2>
                                <span
                                    class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse">HOT</span>
                            </div>
                            <p class="text-gray-300 mb-6">Join AI vs Human battles and earn rewards</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <button onclick="showPage('battle')"
                                    class="bg-gradient-to-r from-purple-600 to-purple-800 text-white p-4 rounded-lg hover:from-purple-700 hover:to-purple-900 transition-all hover:scale-105 border border-purple-500/50">
                                    <div class="text-3xl mb-2">ü§ñ</div>
                                    <div class="font-bold">AI vs AI</div>
                                    <div class="text-xs opacity-80">Watch & Bet</div>
                                </button>
                                <button onclick="showPage('battle')"
                                    class="bg-gradient-to-r from-blue-600 to-blue-800 text-white p-4 rounded-lg hover:from-blue-700 hover:to-blue-900 transition-all hover:scale-105 border border-blue-500/50">
                                    <div class="text-3xl mb-2">üß†</div>
                                    <div class="font-bold">AI vs Human</div>
                                    <div class="text-xs opacity-80">Challenge AI</div>
                                </button>
                                <button onclick="showPage('battle')"
                                    class="bg-gradient-to-r from-red-600 to-red-800 text-white p-4 rounded-lg hover:from-red-700 hover:to-red-900 transition-all hover:scale-105 border border-red-500/50">
                                    <div class="text-3xl mb-2">‚öîÔ∏è</div>
                                    <div class="font-bold">Human vs Human</div>
                                    <div class="text-xs opacity-80">PvP Battle</div>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Market Sentiment -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">
                        <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="bar-chart-3" class="h-5 w-5 text-red-500"></i>
                            Market Sentiment
                        </h2>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-4">
                                <div class="text-green-400 text-2xl font-bold">68%</div>
                                <div class="text-gray-300 text-sm">üìà Bullish</div>
                            </div>
                            <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-4">
                                <div class="text-red-400 text-2xl font-bold">32%</div>
                                <div class="text-gray-300 text-sm">üìâ Bearish</div>
                            </div>
                        </div>
                    </div>

                    <!-- Live AI Prediksi -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">
                        <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="brain" class="h-5 w-5 text-purple-500"></i>
                            Live AI Predictions
                        </h2>

                        <!-- Filters -->
                        <div class="grid grid-cols-3 gap-3 mb-4">
                            <!-- AI Model Dropdown -->
                            <div>
                                <label class="block text-xs font-bold text-gray-400 mb-1">ü§ñ AI Model</label>
                                <select id="dash-ai-select" onchange="updateDashboardPrediction()"
                                    class="w-full bg-white/10 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                                    <option value="0">GPT-4 Oracle</option>
                                    <option value="1">Claude Predictor</option>
                                    <option value="2">Llama Vision</option>
                                    <option value="3">Gemini Forecast</option>
                                    <option value="4">Mistral Analyzer</option>
                                </select>
                            </div>

                            <!-- Category Dropdown -->
                            <div>
                                <label class="block text-xs font-bold text-gray-400 mb-1">üìÇ Category</label>
                                <select id="dash-category-select" onchange="updateDashboardCategory()"
                                    class="w-full bg-white/10 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                                    <option value="crypto">üí∞ Crypto</option>
                                    <option value="market">üìà Market</option>
                                </select>
                            </div>

                            <!-- Asset Dropdown -->
                            <div>
                                <label class="block text-xs font-bold text-gray-400 mb-1">ü™ô Asset</label>
                                <select id="dash-coin-select" onchange="updateDashboardPrediction()"
                                    class="w-full bg-white/10 border border-blue-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                                    <option value="0">Bitcoin (BTC)</option>
                                    <option value="1">Ethereum (ETH)</option>
                                    <option value="2">Solana (SOL)</option>
                                    <option value="3">BNB</option>
                                    <option value="4">Cardano (ADA)</option>
                                </select>
                            </div>
                        </div>

                        <!-- Prediction Display -->
                        <div class="space-y-3">
                            <!-- Dynamic Prediction Card -->
                            <div id="dash-prediction-card"
                                class="bg-gradient-to-r from-purple-900/20 to-black border border-purple-500/30 rounded-lg p-4">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex items-center gap-3">
                                        <div id="dash-coin-icon"
                                            class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold text-xl">
                                            ‚Çø
                                        </div>
                                        <div>
                                            <h3 id="dash-coin-name" class="text-white font-bold text-lg">Bitcoin</h3>
                                            <p id="dash-ai-info" class="text-xs text-gray-400">GPT-4 Oracle ‚Ä¢ 95.8%</p>
                                        </div>
                                    </div>
                                    <div class="text-right">
                                        <div id="dash-live-price" class="text-green-400 font-bold text-xl">$95,234</div>
                                        <div class="text-xs text-purple-400">via Pyth Network</div>
                                    </div>
                                </div>

                                <!-- Prediction Direction -->
                                <div id="dash-direction-badge"
                                    class="mb-3 p-3 bg-green-500/20 border border-green-500/40 rounded-lg text-center">
                                    <div class="text-2xl mb-1">üìà</div>
                                    <div class="text-green-400 font-bold text-lg">BULLISH TREND</div>
                                    <div class="text-xs text-gray-400 mt-1">AI predicts price will rise</div>
                                </div>

                                <!-- Timeframe Predictions -->
                                <div class="grid grid-cols-6 gap-2">
                                    <div id="tf-m1"
                                        class="bg-green-500/20 border border-green-500/40 rounded px-2 py-2 text-center">
                                        <div class="text-[10px] text-gray-400 mb-1">M1</div>
                                        <div class="text-sm text-green-400 font-bold">üìà</div>
                                        <div class="text-[9px] text-green-400 mt-0.5">+0.5%</div>
                                    </div>
                                    <div id="tf-m5"
                                        class="bg-green-500/20 border border-green-500/40 rounded px-2 py-2 text-center">
                                        <div class="text-[10px] text-gray-400 mb-1">M5</div>
                                        <div class="text-sm text-green-400 font-bold">üìà</div>
                                        <div class="text-[9px] text-green-400 mt-0.5">+1.2%</div>
                                    </div>
                                    <div id="tf-m10"
                                        class="bg-green-500/20 border border-green-500/40 rounded px-2 py-2 text-center">
                                        <div class="text-[10px] text-gray-400 mb-1">M10</div>
                                        <div class="text-sm text-green-400 font-bold">üìà</div>
                                        <div class="text-[9px] text-green-400 mt-0.5">+1.8%</div>
                                    </div>
                                    <div id="tf-m15"
                                        class="bg-green-500/20 border border-green-500/40 rounded px-2 py-2 text-center">
                                        <div class="text-[10px] text-gray-400 mb-1">M15</div>
                                        <div class="text-sm text-green-400 font-bold">üìà</div>
                                        <div class="text-[9px] text-green-400 mt-0.5">+2.3%</div>
                                    </div>
                                    <div id="tf-m30"
                                        class="bg-green-500/20 border border-green-500/40 rounded px-2 py-2 text-center">
                                        <div class="text-[10px] text-gray-400 mb-1">M30</div>
                                        <div class="text-sm text-green-400 font-bold">üìà</div>
                                        <div class="text-[9px] text-green-400 mt-0.5">+3.5%</div>
                                    </div>
                                    <div id="tf-h1"
                                        class="bg-green-500/20 border border-green-500/40 rounded px-2 py-2 text-center">
                                        <div class="text-[10px] text-gray-400 mb-1">H1</div>
                                        <div class="text-sm text-green-400 font-bold">üìà</div>
                                        <div class="text-[9px] text-green-400 mt-0.5">+5.8%</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">
                        <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="clock" class="h-5 w-5 text-red-500"></i>
                            Recent Predictions
                        </h2>
                        <div class="space-y-3">
                            <div
                                class="flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-all">
                                <div>
                                    <h3 class="font-semibold text-white">Bitcoin Price Prediction</h3>
                                    <p class="text-sm text-gray-400">GPT-4 Oracle Alpha ‚Ä¢ 95.8% confidence</p>
                                </div>
                                <span
                                    class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30">Active</span>
                            </div>
                            <div
                                class="flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-all">
                                <div>
                                    <h3 class="font-semibold text-white">Ethereum Market Trend</h3>
                                    <p class="text-sm text-gray-400">Claude Predictor ‚Ä¢ 93.2% confidence</p>
                                </div>
                                <span
                                    class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-sm border border-blue-500/30">Resolved</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column (1/3) -->
                <div class="space-y-6">
                    <!-- User Profile Card -->
                    <div
                        class="bg-gradient-to-br from-red-900/30 to-black border border-red-500/30 backdrop-blur-md rounded-xl p-6 shadow-xl">
                        <div class="flex items-center gap-4 mb-4">
                            <div
                                class="w-16 h-16 bg-gradient-to-br from-red-500 to-red-700 rounded-full flex items-center justify-center text-white text-2xl font-bold">
                                A
                            </div>
                            <div>
                                <h3 class="text-white font-bold" id="dash-user-name">Anonymous</h3>
                                <p class="text-gray-400 text-sm" id="dash-user-wallet">Connect Wallet</p>
                            </div>
                        </div>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400 text-sm">Balance</span>
                                <span class="text-white font-bold">0 AION</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400 text-sm">Win Rate</span>
                                <span class="text-green-400 font-bold">0%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400 text-sm">Total Battles</span>
                                <span class="text-blue-400 font-bold">0</span>
                            </div>
                        </div>
                        <button onclick="showPage('userinfo')"
                            class="w-full mt-4 bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-all font-semibold">
                            View Profile
                        </button>
                    </div>

                    <!-- Top AI Models -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">
                        <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trophy" class="h-5 w-5 text-yellow-500"></i>
                            Top AI Models
                        </h2>
                        <div class="space-y-3">
                            <div class="flex items-center gap-3 p-3 bg-white/5 rounded-lg">
                                <span class="text-2xl">ü•á</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">GPT-4 Oracle</div>
                                    <div class="text-gray-400 text-xs">95.8% accuracy</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-3 bg-white/5 rounded-lg">
                                <span class="text-2xl">ü•à</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">Claude Predictor</div>
                                    <div class="text-gray-400 text-xs">93.2% accuracy</div>
                                </div>
                            </div>
                            <div class="flex items-center gap-3 p-3 bg-white/5 rounded-lg">
                                <span class="text-2xl">ü•â</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">Llama Vision</div>
                                    <div class="text-gray-400 text-xs">91.5% accuracy</div>
                                </div>
                            </div>
                        </div>
                        <button onclick="showPage('leaderboard')"
                            class="w-full mt-4 bg-white/10 text-white py-2 rounded-lg hover:bg-white/20 transition-all text-sm font-semibold">
                            View Full Leaderboard
                        </button>
                    </div>

                    <!-- Quick Actions -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">
                        <h2 class="text-lg font-bold text-white mb-4">Quick Actions</h2>
                        <div class="space-y-2">
                            <button onclick="showPage('marketplace')"
                                class="w-full bg-blue-600/20 border border-blue-500/30 text-blue-400 py-2 rounded-lg hover:bg-blue-600/30 transition-all text-sm font-semibold">
                                üìä Browse Markets
                            </button>
                            <button onclick="showPage('governance')"
                                class="w-full bg-purple-600/20 border border-purple-500/30 text-purple-400 py-2 rounded-lg hover:bg-purple-600/30 transition-all text-sm font-semibold">
                                üó≥Ô∏è DAO Governance
                            </button>
                        </div>
                    </div>

                    <!-- Roadmap -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6 shadow-xl">
                        <h2 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="map" class="h-5 w-5 text-red-500"></i>
                            Roadmap
                        </h2>
                        <div class="space-y-3">
                            <div
                                class="flex items-start gap-3 p-3 bg-green-500/10 border border-green-500/30 rounded-lg">
                                <span class="text-2xl">‚úÖ</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">Phase 1 - MVP</div>
                                    <div class="text-gray-400 text-xs">Marketplace, Leaderboard, Wallet, DAO</div>
                                </div>
                            </div>
                            <div
                                class="flex items-start gap-3 p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg">
                                <span class="text-2xl">üîÑ</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">Phase 2 - Alpha (68%)</div>
                                    <div class="text-gray-400 text-xs">Linera Integration, Testnet</div>
                                </div>
                            </div>
                            <div
                                class="flex items-start gap-3 p-3 bg-white/5 border border-white/10 rounded-lg opacity-50">
                                <span class="text-2xl">üîí</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">Phase 3 - Beta</div>
                                    <div class="text-gray-400 text-xs">Fusion Hub, Dispute Resolution</div>
                                </div>
                            </div>
                            <div
                                class="flex items-start gap-3 p-3 bg-white/5 border border-white/10 rounded-lg opacity-50">
                                <span class="text-2xl">üîí</span>
                                <div class="flex-1">
                                    <div class="text-white font-semibold text-sm">Phase 4 - Mainnet</div>
                                    <div class="text-gray-400 text-xs">Security Audit, Token Launch</div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <!-- Home Page -->
        <div id="about" class="page hidden">
            <!-- Hero Section with Gaming Vibe -->
            <div class="text-center mb-16 px-4 relative overflow-hidden">
                <!-- Animated Background -->
                <div class="absolute inset-0 -z-10">
                    <div class="absolute w-96 h-96 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full blur-3xl opacity-30 animate-pulse"
                        style="top: -20%; left: 10%;"></div>
                    <div class="absolute w-96 h-96 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-full blur-3xl opacity-30 animate-pulse"
                        style="top: -20%; right: 10%; animation-delay: 1s;"></div>
                    <div class="absolute w-full h-full"
                        style="background: linear-gradient(180deg, transparent 0%, rgba(0,0,0,0.02) 100%);"></div>
                </div>

                <!-- Epic Tagline -->
                <div class="relative">
                    <h1
                        class="text-3xl md:text-4xl lg:text-5xl font-black mb-6 bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent leading-tight animate-pulse">
                        ‚öîÔ∏è ENTER THE ARENA ‚öîÔ∏è
                    </h1>
                    <p class="text-lg md:text-xl text-gray-800 font-bold max-w-3xl mx-auto mb-8 drop-shadow-lg"
                        id="typing-text">
                        AI-Powered Prediction Battles ‚Ä¢ Compete ‚Ä¢ Dominate ‚Ä¢ Earn Rewards
                    </p>
                </div>

                <!-- CTA Buttons with Glow -->
                <div class="flex flex-wrap gap-4 justify-center">
                    <button onclick="showPage('battle')"
                        class="relative group bg-gradient-to-r from-red-600 to-pink-600 text-white px-10 py-4 rounded-xl hover:from-red-700 hover:to-pink-700 font-black text-lg flex items-center gap-3 shadow-2xl transform hover:scale-105 transition-all duration-300">
                        <span
                            class="absolute inset-0 bg-gradient-to-r from-red-400 to-pink-400 rounded-xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity"></span>
                        <span class="relative">‚öîÔ∏è</span>
                        <span class="relative">JOIN BATTLE NOW</span>
                    </button>
                    <button onclick="showPage('marketplace')"
                        class="relative group bg-gradient-to-r from-purple-600 to-blue-600 text-white px-10 py-4 rounded-xl hover:from-purple-700 hover:to-blue-700 font-black text-lg flex items-center gap-3 shadow-2xl transform hover:scale-105 transition-all duration-300">
                        <span
                            class="absolute inset-0 bg-gradient-to-r from-purple-400 to-blue-400 rounded-xl blur-lg opacity-50 group-hover:opacity-75 transition-opacity"></span>
                        <span class="relative">üéÆ</span>
                        <span class="relative">EXPLORE MARKETS</span>
                    </button>
                </div>
            </div>

            <!-- Live Stats - Gaming Style -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-16">
                <div
                    class="relative group bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 shadow-2xl rounded-xl p-8 text-center overflow-hidden transform hover:scale-105 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div class="relative">
                        <div class="text-5xl mb-2">üéØ</div>
                        <h3 class="text-5xl font-black text-red-500 mb-2 drop-shadow-lg">1,248</h3>
                        <p class="text-gray-300 font-bold uppercase tracking-wider">Active Battles</p>
                    </div>
                </div>
                <div
                    class="relative group bg-gradient-to-br from-gray-900 to-black border-2 border-green-500 shadow-2xl rounded-xl p-8 text-center overflow-hidden transform hover:scale-105 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-green-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div class="relative">
                        <div class="text-5xl mb-2">üèÜ</div>
                        <h3 class="text-5xl font-black text-green-500 mb-2 drop-shadow-lg">582</h3>
                        <p class="text-gray-300 font-bold uppercase tracking-wider">Victories Today</p>
                    </div>
                </div>
                <div
                    class="relative group bg-gradient-to-br from-gray-900 to-black border-2 border-yellow-500 shadow-2xl rounded-xl p-8 text-center overflow-hidden transform hover:scale-105 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-yellow-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity">
                    </div>
                    <div class="relative">
                        <div class="text-5xl mb-2">üí∞</div>
                        <h3 class="text-5xl font-black text-yellow-500 mb-2 drop-shadow-lg">$42,870</h3>
                        <p class="text-gray-300 font-bold uppercase tracking-wider">Rewards Pool</p>
                    </div>
                </div>
            </div>

            <!-- How It Works - Gaming Quest Style -->
            <div class="mb-16 relative">
                <h2
                    class="text-4xl font-black text-center mb-12 bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent">
                    üéÆ YOUR QUEST TO VICTORY üéÆ
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div
                        class="relative group text-center bg-gradient-to-br from-purple-900/30 to-black/30 backdrop-blur-sm border-2 border-purple-500/50 rounded-xl p-8 transform hover:scale-105 transition-all duration-300">
                        <div
                            class="absolute inset-0 bg-gradient-to-br from-purple-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                        </div>
                        <div class="relative">
                            <div
                                class="w-24 h-24 bg-gradient-to-br from-purple-600 to-pink-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl">
                                <span class="text-5xl">üéØ</span>
                            </div>
                            <div
                                class="bg-purple-600 text-white text-sm font-black px-3 py-1 rounded-full inline-block mb-3">
                                STEP 1</div>
                            <h3 class="font-black text-2xl mb-3 text-white">Choose Your Arena</h3>
                            <p class="text-gray-300 font-medium">Select from crypto, esports, or AI prediction battles
                            </p>
                        </div>
                    </div>
                    <div
                        class="relative group text-center bg-gradient-to-br from-blue-900/30 to-black/30 backdrop-blur-sm border-2 border-blue-500/50 rounded-xl p-8 transform hover:scale-105 transition-all duration-300">
                        <div
                            class="absolute inset-0 bg-gradient-to-br from-blue-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                        </div>
                        <div class="relative">
                            <div
                                class="w-24 h-24 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl">
                                <span class="text-5xl">‚öîÔ∏è</span>
                            </div>
                            <div
                                class="bg-blue-600 text-white text-sm font-black px-3 py-1 rounded-full inline-block mb-3">
                                STEP 2</div>
                            <h3 class="font-black text-2xl mb-3 text-white">Make Your Move</h3>
                            <p class="text-gray-300 font-medium">Pick your side and stake AION tokens to enter</p>
                        </div>
                    </div>
                    <div
                        class="relative group text-center bg-gradient-to-br from-red-900/30 to-black/30 backdrop-blur-sm border-2 border-red-500/50 rounded-xl p-8 transform hover:scale-105 transition-all duration-300">
                        <div
                            class="absolute inset-0 bg-gradient-to-br from-red-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                        </div>
                        <div class="relative">
                            <div
                                class="w-24 h-24 bg-gradient-to-br from-red-600 to-orange-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-2xl">
                                <span class="text-5xl">üèÜ</span>
                            </div>
                            <div
                                class="bg-red-600 text-white text-sm font-black px-3 py-1 rounded-full inline-block mb-3">
                                STEP 3</div>
                            <h3 class="font-black text-2xl mb-3 text-white">Claim Victory</h3>
                            <p class="text-gray-300 font-medium">Battle AI or players and win massive rewards</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features - Power-Ups Style -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-16">
                <div
                    class="relative group bg-gradient-to-br from-red-900/20 to-black/20 backdrop-blur-sm border-2 border-red-500/30 shadow-2xl rounded-xl p-6 transform hover:scale-105 hover:border-red-500 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-red-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                    </div>
                    <div class="relative">
                        <div
                            class="flex items-center justify-center w-20 h-20 bg-gradient-to-br from-red-600 to-pink-600 rounded-2xl mb-4 shadow-xl">
                            <span class="text-4xl">üß†</span>
                        </div>
                        <h3 class="font-black text-xl mb-3 text-white">AI-Powered Predictions</h3>
                        <p class="text-gray-300 leading-relaxed">AION uses collective learning models and reputation
                            mechanisms to generate verifiable predictions with unmatched accuracy.</p>
                    </div>
                </div>

                <div
                    class="relative group bg-gradient-to-br from-purple-900/20 to-black/20 backdrop-blur-sm border-2 border-purple-500/30 shadow-2xl rounded-xl p-6 transform hover:scale-105 hover:border-purple-500 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-purple-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                    </div>
                    <div class="relative">
                        <div
                            class="flex items-center justify-center w-20 h-20 bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl mb-4 shadow-xl">
                            <span class="text-4xl">üîó</span>
                        </div>
                        <h3 class="font-black text-xl mb-3 text-white">Polygon Integration</h3>
                        <p class="text-gray-300 leading-relaxed">Leverages Ethereum's ecosystem with low gas fees, high
                            speed, and full EVM compatibility for seamless battles.</p>
                    </div>
                </div>

                <div
                    class="relative group bg-gradient-to-br from-blue-900/20 to-black/20 backdrop-blur-sm border-2 border-blue-500/30 shadow-2xl rounded-xl p-6 transform hover:scale-105 hover:border-blue-500 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-blue-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                    </div>
                    <div class="relative">
                        <div
                            class="flex items-center justify-center w-20 h-20 bg-gradient-to-br from-blue-600 to-cyan-600 rounded-2xl mb-4 shadow-xl">
                            <span class="text-4xl">‚ö°</span>
                        </div>
                        <h3 class="font-black text-xl mb-3 text-white">Lightning Fast</h3>
                        <p class="text-gray-300 leading-relaxed">Polygon's PoS and zkEVM deliver high throughput and
                            near-instant confirmations for real-time battles.</p>
                    </div>
                </div>

                <div
                    class="relative group bg-gradient-to-br from-green-900/20 to-black/20 backdrop-blur-sm border-2 border-green-500/30 shadow-2xl rounded-xl p-6 transform hover:scale-105 hover:border-green-500 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-green-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                    </div>
                    <div class="relative">
                        <div
                            class="flex items-center justify-center w-20 h-20 bg-gradient-to-br from-green-600 to-emerald-600 rounded-2xl mb-4 shadow-xl">
                            <span class="text-4xl">üõ°Ô∏è</span>
                        </div>
                        <h3 class="font-black text-xl mb-3 text-white">Verified On-Chain</h3>
                        <p class="text-gray-300 leading-relaxed">All predictions cryptographically verified on Polygon,
                            ensuring full transparency and trust.</p>
                    </div>
                </div>

                <div
                    class="relative group bg-gradient-to-br from-yellow-900/20 to-black/20 backdrop-blur-sm border-2 border-yellow-500/30 shadow-2xl rounded-xl p-6 transform hover:scale-105 hover:border-yellow-500 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-yellow-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                    </div>
                    <div class="relative">
                        <div
                            class="flex items-center justify-center w-20 h-20 bg-gradient-to-br from-yellow-600 to-orange-600 rounded-2xl mb-4 shadow-xl">
                            <span class="text-4xl">üë•</span>
                        </div>
                        <h3 class="font-black text-xl mb-3 text-white">Collective Intelligence</h3>
                        <p class="text-gray-300 leading-relaxed">Multiple AI models compete and collaborate, forming a
                            meta-learning ecosystem for maximum accuracy.</p>
                    </div>
                </div>

                <div
                    class="relative group bg-gradient-to-br from-orange-900/20 to-black/20 backdrop-blur-sm border-2 border-orange-500/30 shadow-2xl rounded-xl p-6 transform hover:scale-105 hover:border-orange-500 transition-all duration-300">
                    <div
                        class="absolute inset-0 bg-gradient-to-br from-orange-600/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity rounded-xl">
                    </div>
                    <div class="relative">
                        <div
                            class="flex items-center justify-center w-20 h-20 bg-gradient-to-br from-orange-600 to-red-600 rounded-2xl mb-4 shadow-xl">
                            <span class="text-4xl">üí∞</span>
                        </div>
                        <h3 class="font-black text-xl mb-3 text-white">Ultra Low Fees</h3>
                        <p class="text-gray-300 leading-relaxed">Operating on Polygon dramatically reduces costs, making
                            AI battles accessible to everyone.</p>
                    </div>
                </div>
            </div>


        </div>

        <!-- Marketplace Page -->
        <div id="marketplace" class="page hidden relative">
            <!-- Background Effects -->
            <div class="absolute inset-0 -z-10 opacity-10">
                <div class="absolute w-96 h-96 bg-green-500 rounded-full blur-3xl"
                    style="top: 10%; left: 10%; animation: float 8s ease-in-out infinite;"></div>
                <div class="absolute w-96 h-96 bg-red-500 rounded-full blur-3xl"
                    style="bottom: 10%; right: 10%; animation: float 10s ease-in-out infinite reverse;"></div>
            </div>

            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl md:text-6xl font-bold mb-3 text-white">AI Marketplace</h1>
                <p class="text-lg text-gray-300">Power-ups, AI Models & Prediction Boosters</p>
            </div>

            <!-- Wallet Balance Banner -->
            <div
                class="bg-gradient-to-r from-yellow-600 to-yellow-800 text-white py-3 px-6 rounded-lg mb-6 flex items-center justify-between">
                <div class="flex items-center gap-3">
                    <i data-lucide="wallet" class="h-6 w-6"></i>
                    <span class="font-bold text-lg">Balance: <span id="market-balance">1,245 AION</span></span>
                </div>
                <button class="bg-white text-yellow-800 px-4 py-2 rounded-lg hover:bg-gray-100 font-semibold text-sm">
                    Add Funds
                </button>
            </div>

            <!-- Main Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-4 gap-6">
                <!-- Left Column - Filters -->
                <div class="space-y-6">
                    <!-- Category Filter -->
                    <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="filter" class="h-5 w-5 text-red-500"></i>
                            Categories
                        </h3>
                        <div class="space-y-2">
                            <button onclick="filterMarket('all')"
                                class="w-full text-left px-4 py-2 rounded-lg bg-red-600 text-white font-semibold">
                                All Items
                            </button>
                            <button onclick="filterMarket('ai')"
                                class="w-full text-left px-4 py-2 rounded-lg hover:bg-white/10 text-gray-300">
                                ü§ñ AI Models
                            </button>
                            <button onclick="filterMarket('booster')"
                                class="w-full text-left px-4 py-2 rounded-lg hover:bg-white/10 text-gray-300">
                                ‚ö° Boosters
                            </button>
                            <button onclick="filterMarket('nft')"
                                class="w-full text-left px-4 py-2 rounded-lg hover:bg-white/10 text-gray-300">
                                üé® NFTs
                            </button>
                        </div>
                    </div>

                    <!-- AI Recommendation -->
                    <div
                        class="backdrop-blur-lg bg-gradient-to-br from-purple-900/30 to-black border border-purple-500/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-2">
                            <i data-lucide="sparkles" class="h-5 w-5 text-purple-400"></i>
                            AI Recommends
                        </h3>
                        <p class="text-gray-300 text-sm mb-3">Based on your battles:</p>
                        <div class="bg-white/5 rounded-lg p-3 border border-purple-500/30">
                            <div class="text-white font-semibold text-sm mb-1">Accuracy Booster Mk II</div>
                            <div class="text-purple-400 text-xs">+15% Win Rate</div>
                        </div>
                    </div>
                </div>

                <!-- Middle Column - Marketplace Grid -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Sort Bar -->
                    <div
                        class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4 flex items-center justify-between">
                        <div class="flex items-center gap-4">
                            <select class="bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm">
                                <option>Sort: Popular</option>
                                <option>Price: Low to High</option>
                                <option>Price: High to Low</option>
                                <option>Newest</option>
                            </select>
                        </div>
                        <div class="flex gap-2">
                            <button class="p-2 bg-red-600 rounded-lg">
                                <i data-lucide="grid-3x3" class="h-5 w-5 text-white"></i>
                            </button>
                            <button class="p-2 bg-white/10 rounded-lg hover:bg-white/20">
                                <i data-lucide="list" class="h-5 w-5 text-white"></i>
                            </button>
                        </div>
                    </div>

                    <!-- Items Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <!-- AI Model Item - Legendary -->
                        <div onclick="showItemDetail('ai1')"
                            class="backdrop-blur-lg bg-gradient-to-br from-yellow-900/30 to-black border-2 border-yellow-500 rounded-xl p-4 shadow-2xl shadow-yellow-500/30 hover:shadow-yellow-500/50 hover:scale-105 transition-all cursor-pointer relative overflow-hidden">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-yellow-500 text-black px-2 py-1 rounded-full text-xs font-bold">LEGENDARY</span>
                            </div>
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-transparent animate-pulse">
                            </div>
                            <div class="relative z-10">
                                <div class="text-6xl text-center mb-3">ü§ñ</div>
                                <h3 class="text-white font-bold text-lg mb-2">GPT-5 Oracle Pro</h3>
                                <p class="text-gray-400 text-xs mb-3">AI Model ‚Ä¢ Level 5</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-green-400 text-sm font-bold">+25% Accuracy</span>
                                    <span class="text-yellow-400 text-lg font-bold">850 AION</span>
                                </div>
                                <button
                                    class="w-full bg-yellow-600 text-black py-2 rounded-lg hover:bg-yellow-500 font-bold text-sm">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- Booster Item - Rare -->
                        <div onclick="showItemDetail('boost1')"
                            class="backdrop-blur-lg bg-gradient-to-br from-blue-900/30 to-black border-2 border-blue-500 rounded-xl p-4 shadow-2xl shadow-blue-500/30 hover:shadow-blue-500/50 hover:scale-105 transition-all cursor-pointer relative overflow-hidden">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-blue-500 text-white px-2 py-1 rounded-full text-xs font-bold">RARE</span>
                            </div>
                            <div class="relative z-10">
                                <div class="text-6xl text-center mb-3">‚ö°</div>
                                <h3 class="text-white font-bold text-lg mb-2">Speed Predictor</h3>
                                <p class="text-gray-400 text-xs mb-3">Booster ‚Ä¢ 24h Duration</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-blue-400 text-sm font-bold">-50% Time</span>
                                    <span class="text-yellow-400 text-lg font-bold">320 AION</span>
                                </div>
                                <button
                                    class="w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-500 font-bold text-sm">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- NFT Item - Epic -->
                        <div onclick="showItemDetail('nft1')"
                            class="backdrop-blur-lg bg-gradient-to-br from-purple-900/30 to-black border-2 border-purple-500 rounded-xl p-4 shadow-2xl shadow-purple-500/30 hover:shadow-purple-500/50 hover:scale-105 transition-all cursor-pointer relative overflow-hidden">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-purple-500 text-white px-2 py-1 rounded-full text-xs font-bold">EPIC</span>
                            </div>
                            <div class="relative z-10">
                                <div class="text-6xl text-center mb-3">üé®</div>
                                <h3 class="text-white font-bold text-lg mb-2">Bull Avatar #142</h3>
                                <p class="text-gray-400 text-xs mb-3">NFT ‚Ä¢ Limited Edition</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-purple-400 text-sm font-bold">+10% Rewards</span>
                                    <span class="text-yellow-400 text-lg font-bold">580 AION</span>
                                </div>
                                <button
                                    class="w-full bg-purple-600 text-white py-2 rounded-lg hover:bg-purple-500 font-bold text-sm">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- AI Model Item - Common -->
                        <div onclick="showItemDetail('ai2')"
                            class="backdrop-blur-lg bg-gradient-to-br from-green-900/30 to-black border-2 border-green-500 rounded-xl p-4 shadow-2xl shadow-green-500/30 hover:shadow-green-500/50 hover:scale-105 transition-all cursor-pointer relative overflow-hidden">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-green-500 text-white px-2 py-1 rounded-full text-xs font-bold">COMMON</span>
                            </div>
                            <div class="relative z-10">
                                <div class="text-6xl text-center mb-3">ü§ñ</div>
                                <h3 class="text-white font-bold text-lg mb-2">Basic AI Predictor</h3>
                                <p class="text-gray-400 text-xs mb-3">AI Model ‚Ä¢ Level 1</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-green-400 text-sm font-bold">+5% Accuracy</span>
                                    <span class="text-yellow-400 text-lg font-bold">120 AION</span>
                                </div>
                                <button
                                    class="w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-500 font-bold text-sm">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- Booster Item -->
                        <div onclick="showItemDetail('boost2')"
                            class="backdrop-blur-lg bg-gradient-to-br from-red-900/30 to-black border-2 border-red-500 rounded-xl p-4 shadow-2xl shadow-red-500/30 hover:shadow-red-500/50 hover:scale-105 transition-all cursor-pointer relative overflow-hidden">
                            <div class="absolute top-2 right-2">
                                <span class="bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold">RARE</span>
                            </div>
                            <div class="relative z-10">
                                <div class="text-6xl text-center mb-3">üî•</div>
                                <h3 class="text-white font-bold text-lg mb-2">Profit Multiplier</h3>
                                <p class="text-gray-400 text-xs mb-3">Booster ‚Ä¢ 12h Duration</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-red-400 text-sm font-bold">+2x Rewards</span>
                                    <span class="text-yellow-400 text-lg font-bold">450 AION</span>
                                </div>
                                <button
                                    class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-500 font-bold text-sm">
                                    Buy Now
                                </button>
                            </div>
                        </div>

                        <!-- NFT Item -->
                        <div onclick="showItemDetail('nft2')"
                            class="backdrop-blur-lg bg-gradient-to-br from-pink-900/30 to-black border-2 border-pink-500 rounded-xl p-4 shadow-2xl shadow-pink-500/30 hover:shadow-pink-500/50 hover:scale-105 transition-all cursor-pointer relative overflow-hidden">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-pink-500 text-white px-2 py-1 rounded-full text-xs font-bold">RARE</span>
                            </div>
                            <div class="relative z-10">
                                <div class="text-6xl text-center mb-3">üé≠</div>
                                <h3 class="text-white font-bold text-lg mb-2">Bear Mask #89</h3>
                                <p class="text-gray-400 text-xs mb-3">NFT ‚Ä¢ Collectible</p>
                                <div class="flex items-center justify-between mb-3">
                                    <span class="text-pink-400 text-sm font-bold">+8% XP</span>
                                    <span class="text-yellow-400 text-lg font-bold">380 AION</span>
                                </div>
                                <button
                                    class="w-full bg-pink-600 text-white py-2 rounded-lg hover:bg-pink-500 font-bold text-sm">
                                    Buy Now
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Trending -->
                <div class="space-y-6">
                    <!-- Trending Items -->
                    <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="h-5 w-5 text-red-500"></i>
                            Trending
                        </h3>
                        <div class="space-y-3">
                            <div class="bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-all cursor-pointer">
                                <div class="flex items-center gap-3">
                                    <div class="text-3xl">ü§ñ</div>
                                    <div class="flex-1">
                                        <div class="text-white font-semibold text-sm">GPT-5 Oracle</div>
                                        <div class="text-yellow-400 text-xs font-bold">850 AION</div>
                                    </div>
                                    <div class="text-green-400 text-xs">üî•</div>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-all cursor-pointer">
                                <div class="flex items-center gap-3">
                                    <div class="text-3xl">‚ö°</div>
                                    <div class="flex-1">
                                        <div class="text-white font-semibold text-sm">Speed Predictor</div>
                                        <div class="text-yellow-400 text-xs font-bold">320 AION</div>
                                    </div>
                                    <div class="text-green-400 text-xs">üî•</div>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-all cursor-pointer">
                                <div class="flex items-center gap-3">
                                    <div class="text-3xl">üé®</div>
                                    <div class="flex-1">
                                        <div class="text-white font-semibold text-sm">Bull Avatar</div>
                                        <div class="text-yellow-400 text-xs font-bold">580 AION</div>
                                    </div>
                                    <div class="text-green-400 text-xs">üî•</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- New Arrivals -->
                    <div class="backdrop-blur-lg bg-white/5 border border-green-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="sparkles" class="h-5 w-5 text-green-500"></i>
                            New Arrivals
                        </h3>
                        <div class="space-y-3">
                            <div class="bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-all cursor-pointer">
                                <div class="flex items-center gap-3">
                                    <div class="text-3xl">üî•</div>
                                    <div class="flex-1">
                                        <div class="text-white font-semibold text-sm">Profit Multiplier</div>
                                        <div class="text-yellow-400 text-xs font-bold">450 AION</div>
                                    </div>
                                    <span class="bg-green-500 text-white px-2 py-0.5 rounded text-xs">NEW</span>
                                </div>
                            </div>
                            <div class="bg-white/5 rounded-lg p-3 hover:bg-white/10 transition-all cursor-pointer">
                                <div class="flex items-center gap-3">
                                    <div class="text-3xl">üé≠</div>
                                    <div class="flex-1">
                                        <div class="text-white font-semibold text-sm">Bear Mask</div>
                                        <div class="text-yellow-400 text-xs font-bold">380 AION</div>
                                    </div>
                                    <span class="bg-green-500 text-white px-2 py-0.5 rounded text-xs">NEW</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <!-- Leaderboard Page -->
        <div id="leaderboard" class="page hidden relative">
            <!-- Animated Background -->
            <div class="absolute inset-0 -z-10 opacity-10">
                <div class="absolute w-96 h-96 bg-gradient-to-r from-red-500 to-yellow-500 rounded-full blur-3xl"
                    style="top: 10%; left: 10%; animation: float 8s ease-in-out infinite;"></div>
                <div class="absolute w-96 h-96 bg-gradient-to-r from-yellow-500 to-red-500 rounded-full blur-3xl"
                    style="bottom: 10%; right: 10%; animation: float 10s ease-in-out infinite reverse;"></div>
            </div>

            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl md:text-6xl font-bold mb-3 text-white">AI Oracle Leaderboard</h1>
                <p class="text-lg text-gray-300">Top performing AI models competing for glory</p>
            </div>

            <!-- Filters & Tabs -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <label class="text-sm text-gray-400 mb-2 block">Timeframe</label>
                    <select class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm">
                        <option>All Time</option>
                        <option>Last 7 Days</option>
                        <option>Last 24 Hours</option>
                    </select>
                </div>
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <label class="text-sm text-gray-400 mb-2 block">Model Type</label>
                    <select class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm">
                        <option>All Models</option>
                        <option>GPT Series</option>
                        <option>Claude Series</option>
                        <option>Llama Series</option>
                    </select>
                </div>
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <label class="text-sm text-gray-400 mb-2 block">Network</label>
                    <div class="flex gap-2">
                        <button
                            class="flex-1 bg-red-600 text-white px-3 py-2 rounded-lg text-sm font-semibold">Global</button>
                        <button
                            class="flex-1 bg-white/10 text-white px-3 py-2 rounded-lg text-sm hover:bg-white/20">Testnet</button>
                    </div>
                </div>
            </div>

            <!-- Top 3 Podium -->
            <div class="grid grid-cols-3 gap-4 mb-8">
                <!-- 2nd Place -->
                <div
                    class="backdrop-blur-lg bg-gradient-to-br from-gray-400/20 to-black border-2 border-gray-400 rounded-xl p-6 shadow-2xl shadow-gray-400/30 hover:scale-105 transition-all mt-8">
                    <div class="text-center">
                        <div class="text-6xl mb-3 animate-bounce">ü•à</div>
                        <div class="text-5xl mb-3">ü§ñ</div>
                        <h3 class="text-xl font-bold text-white mb-1">Claude Predictor</h3>
                        <p class="text-sm text-gray-400 mb-3">Claude-3</p>
                        <div class="bg-white/10 rounded-lg p-3 mb-3">
                            <div class="text-2xl font-bold text-gray-300">93.2%</div>
                            <div class="text-xs text-gray-400">Accuracy</div>
                        </div>
                        <div class="flex items-center justify-center gap-2 mb-2">
                            <span
                                class="bg-purple-500/20 text-purple-400 px-2 py-1 rounded text-xs font-bold border border-purple-500/30">‚ö°
                                Elite Predictor</span>
                        </div>
                        <div class="text-green-400 font-bold">$72,340</div>
                    </div>
                </div>

                <!-- 1st Place -->
                <div
                    class="backdrop-blur-lg bg-gradient-to-br from-yellow-600/30 to-black border-2 border-yellow-500 rounded-xl p-6 shadow-2xl shadow-yellow-500/50 hover:scale-105 transition-all relative overflow-hidden">
                    <div class="absolute inset-0 bg-gradient-to-r from-yellow-500/10 to-transparent animate-pulse">
                    </div>
                    <div class="relative z-10 text-center">
                        <div class="text-7xl mb-3 animate-bounce">ü•á</div>
                        <div class="text-6xl mb-3">ü§ñ</div>
                        <h3 class="text-2xl font-bold text-white mb-1">GPT-4 Oracle Alpha</h3>
                        <p class="text-sm text-gray-400 mb-3">GPT-4</p>
                        <div class="bg-white/10 rounded-lg p-3 mb-3">
                            <div class="text-3xl font-bold text-yellow-400">95.8%</div>
                            <div class="text-xs text-gray-400">Accuracy</div>
                        </div>
                        <div class="flex items-center justify-center gap-2 mb-2">
                            <span
                                class="bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded text-xs font-bold border border-yellow-500/30">üèÜ
                                Oracle Tier</span>
                        </div>
                        <div class="text-green-400 font-bold text-lg">$89,230</div>
                    </div>
                </div>

                <!-- 3rd Place -->
                <div
                    class="backdrop-blur-lg bg-gradient-to-br from-orange-600/20 to-black border-2 border-orange-600 rounded-xl p-6 shadow-2xl shadow-orange-600/30 hover:scale-105 transition-all mt-8">
                    <div class="text-center">
                        <div class="text-6xl mb-3 animate-bounce">ü•â</div>
                        <div class="text-5xl mb-3">ü§ñ</div>
                        <h3 class="text-xl font-bold text-white mb-1">Llama Vision Pro</h3>
                        <p class="text-sm text-gray-400 mb-3">Llama-3</p>
                        <div class="bg-white/10 rounded-lg p-3 mb-3">
                            <div class="text-2xl font-bold text-orange-400">91.5%</div>
                            <div class="text-xs text-gray-400">Accuracy</div>
                        </div>
                        <div class="flex items-center justify-center gap-2 mb-2">
                            <span
                                class="bg-green-500/20 text-green-400 px-2 py-1 rounded text-xs font-bold border border-green-500/30">üß©
                                Visionary</span>
                        </div>
                        <div class="text-green-400 font-bold">$65,420</div>
                    </div>
                </div>
            </div>

            <!-- Full Leaderboard Table -->
            <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl shadow-2xl overflow-hidden">
                <div class="overflow-x-auto">
                    <table class="w-full" id="leaderboard-table">
                        <thead class="bg-gradient-to-r from-red-900/50 to-black border-b border-white/10">
                            <tr>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">Rank</th>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">AI Model</th>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">Level & XP
                                </th>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">Accuracy</th>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">Predictions
                                </th>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">Total Earned
                                </th>
                                <th class="px-6 py-4 text-left text-xs font-bold text-gray-300 uppercase">Badge</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-white/5" id="leaderboard-body">
                            <!-- Row 1 - Gold Glow -->
                            <tr class="hover:bg-white/5 transition-all cursor-pointer group bg-gradient-to-r from-yellow-900/10 to-transparent"
                                onclick="showModelDetail(0)">
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-2">
                                        <span class="text-3xl">ü•á</span>
                                        <span class="text-yellow-400 font-bold text-lg">1</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="text-4xl animate-pulse">ü§ñ</div>
                                        <div>
                                            <div class="font-bold text-white text-lg">GPT-4 Oracle Alpha</div>
                                            <div class="text-sm text-gray-400">GPT-4 ‚Ä¢ Active in 12 battles this week
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-sm text-white font-semibold mb-1">Level 24</div>
                                    <div class="w-32 bg-gray-700 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-yellow-500 to-yellow-600 h-2 rounded-full"
                                            style="width: 87%"></div>
                                    </div>
                                    <div class="text-xs text-gray-400 mt-1">87% to next tier</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-xl font-bold text-green-400">95.8%</div>
                                    <div class="text-xs text-green-500">‚Üë +3.2%</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-white font-semibold">1,247</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-green-400 font-bold text-lg">$89,230</div>
                                </td>
                                <td class="px-6 py-4">
                                    <span
                                        class="bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded-full text-xs font-bold border border-yellow-500/30">üèÜ
                                        Oracle Tier</span>
                                </td>
                            </tr>

                            <!-- Row 2 - Silver Glow -->
                            <tr class="hover:bg-white/5 transition-all cursor-pointer group bg-gradient-to-r from-gray-400/10 to-transparent"
                                onclick="showModelDetail(1)">
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-2">
                                        <span class="text-3xl">ü•à</span>
                                        <span class="text-gray-300 font-bold text-lg">2</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="text-4xl animate-pulse">ü§ñ</div>
                                        <div>
                                            <div class="font-bold text-white text-lg">Claude Predictor</div>
                                            <div class="text-sm text-gray-400">Claude-3 ‚Ä¢ Active in 8 battles this week
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-sm text-white font-semibold mb-1">Level 22</div>
                                    <div class="w-32 bg-gray-700 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-purple-500 to-purple-600 h-2 rounded-full"
                                            style="width: 64%"></div>
                                    </div>
                                    <div class="text-xs text-gray-400 mt-1">64% to next tier</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-xl font-bold text-green-400">93.2%</div>
                                    <div class="text-xs text-green-500">‚Üë +1.8%</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-white font-semibold">982</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-green-400 font-bold text-lg">$72,340</div>
                                </td>
                                <td class="px-6 py-4">
                                    <span
                                        class="bg-purple-500/20 text-purple-400 px-3 py-1 rounded-full text-xs font-bold border border-purple-500/30">‚ö°
                                        Elite Predictor</span>
                                </td>
                            </tr>

                            <!-- Row 3 - Bronze Glow -->
                            <tr class="hover:bg-white/5 transition-all cursor-pointer group bg-gradient-to-r from-orange-600/10 to-transparent"
                                onclick="showModelDetail(2)">
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-2">
                                        <span class="text-3xl">ü•â</span>
                                        <span class="text-orange-400 font-bold text-lg">3</span>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="text-4xl animate-pulse">ü§ñ</div>
                                        <div>
                                            <div class="font-bold text-white text-lg">Llama Vision Pro</div>
                                            <div class="text-sm text-gray-400">Llama-3 ‚Ä¢ Active in 10 battles this week
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-sm text-white font-semibold mb-1">Level 20</div>
                                    <div class="w-32 bg-gray-700 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-green-500 to-green-600 h-2 rounded-full"
                                            style="width: 52%"></div>
                                    </div>
                                    <div class="text-xs text-gray-400 mt-1">52% to next tier</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-xl font-bold text-green-400">91.5%</div>
                                    <div class="text-xs text-green-500">‚Üë +2.1%</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-white font-semibold">1,103</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-green-400 font-bold text-lg">$65,420</div>
                                </td>
                                <td class="px-6 py-4">
                                    <span
                                        class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-xs font-bold border border-green-500/30">üß©
                                        Visionary</span>
                                </td>
                            </tr>

                            <!-- Row 4+ -->
                            <tr class="hover:bg-white/5 transition-all cursor-pointer group"
                                onclick="showModelDetail(3)">
                                <td class="px-6 py-4">
                                    <span class="text-white font-bold">4</span>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="text-3xl">ü§ñ</div>
                                        <div>
                                            <div class="font-semibold text-white">Gemini Forecast</div>
                                            <div class="text-sm text-gray-400">Gemini ‚Ä¢ Active in 6 battles this week
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-sm text-white font-semibold mb-1">Level 18</div>
                                    <div class="w-32 bg-gray-700 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full"
                                            style="width: 41%"></div>
                                    </div>
                                    <div class="text-xs text-gray-400 mt-1">41% to next tier</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-lg font-bold text-green-400">89.7%</div>
                                    <div class="text-xs text-green-500">‚Üë +1.2%</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-white font-semibold">845</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-green-400 font-bold">$52,180</div>
                                </td>
                                <td class="px-6 py-4">
                                    <span
                                        class="bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-xs font-bold border border-blue-500/30">üíé
                                        Advanced</span>
                                </td>
                            </tr>

                            <tr class="hover:bg-white/5 transition-all cursor-pointer group"
                                onclick="showModelDetail(4)">
                                <td class="px-6 py-4">
                                    <span class="text-white font-bold">5</span>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="flex items-center gap-3">
                                        <div class="text-3xl">ü§ñ</div>
                                        <div>
                                            <div class="font-semibold text-white">Mistral Oracle</div>
                                            <div class="text-sm text-gray-400">Mistral ‚Ä¢ Active in 5 battles this week
                                            </div>
                                        </div>
                                    </div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-sm text-white font-semibold mb-1">Level 16</div>
                                    <div class="w-32 bg-gray-700 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-red-500 to-red-600 h-2 rounded-full"
                                            style="width: 28%"></div>
                                    </div>
                                    <div class="text-xs text-gray-400 mt-1">28% to next tier</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-lg font-bold text-green-400">87.3%</div>
                                    <div class="text-xs text-red-500">‚Üì -0.5%</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-white font-semibold">723</div>
                                </td>
                                <td class="px-6 py-4">
                                    <div class="text-green-400 font-bold">$41,920</div>
                                </td>
                                <td class="px-6 py-4">
                                    <span
                                        class="bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-xs font-bold border border-red-500/30">üî•
                                        Intermediate</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Battle Page -->
        <div id="battle" class="page hidden relative">
            <!-- Background Effects -->
            <div class="absolute inset-0 -z-10 opacity-10">
                <div class="absolute w-96 h-96 bg-green-500 rounded-full blur-3xl"
                    style="top: 20%; left: 10%; animation: float 6s ease-in-out infinite;"></div>
                <div class="absolute w-96 h-96 bg-red-500 rounded-full blur-3xl"
                    style="top: 20%; right: 10%; animation: float 8s ease-in-out infinite reverse;"></div>
            </div>

            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl md:text-6xl font-bold mb-3 text-white">Battle Arena</h1>
                <p class="text-lg text-gray-300">Choose your side, place your prediction, clash & earn</p>
            </div>

            <!-- Live Stats Bar -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-4 text-center">
                    <div class="text-2xl font-bold text-green-400">1,248</div>
                    <div class="text-xs text-gray-400">Active Battles</div>
                </div>
                <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-4 text-center">
                    <div class="text-2xl font-bold text-yellow-400">$42.8K</div>
                    <div class="text-xs text-gray-400">Total Pot</div>
                </div>
                <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-4 text-center">
                    <div class="text-2xl font-bold text-blue-400">8,429</div>
                    <div class="text-xs text-gray-400">Total Players</div>
                </div>
                <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-lg p-4 text-center">
                    <div class="text-2xl font-bold text-purple-400">92.3%</div>
                    <div class="text-xs text-gray-400">Avg Win Rate</div>
                </div>
            </div>

            <!-- Main Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Left Column - Battle Cards -->
                <div class="lg:col-span-2 space-y-6">
                    <h2 class="text-2xl font-bold text-white mb-4 flex items-center gap-2">
                        <i data-lucide="flame" class="h-6 w-6 text-red-500"></i>
                        Live Battles
                    </h2>

                    <div class="grid grid-cols-1 gap-4">
                        <!-- AI vs AI Battle Card -->
                        <div
                            class="bg-gradient-to-br from-purple-900/30 to-black border-2 border-purple-500 rounded-xl p-6 relative overflow-hidden hover:scale-105 transition-all hover:shadow-2xl hover:shadow-purple-500/50">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold animate-pulse">LIVE</span>
                            </div>
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-purple-500/10 to-transparent animate-pulse">
                            </div>
                            <div class="relative z-10">
                                <div class="flex items-center gap-3 mb-4">
                                    <div
                                        class="w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center">
                                        <i data-lucide="cpu" class="h-6 w-6 text-purple-400"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-bold text-white">AI vs AI</h3>
                                        <p class="text-xs text-gray-400">BTC/USD - M5</p>
                                    </div>
                                </div>
                                <div class="bg-black/30 rounded-lg p-4 mb-4">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-sm text-gray-300">GPT-4 Oracle</span>
                                        <span
                                            class="text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded border border-blue-500/30">95.8%</span>
                                    </div>
                                    <div class="text-center text-xs text-gray-500 my-2">VS</div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-300">Claude Predictor</span>
                                        <span
                                            class="text-xs bg-purple-500/20 text-purple-400 px-2 py-1 rounded border border-purple-500/30">93.2%</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Pot</div>
                                        <div class="text-lg font-bold text-yellow-400">3.2 ETH</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Players</div>
                                        <div class="text-lg font-bold text-blue-400">142</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Time</div>
                                        <div class="text-lg font-bold text-red-400">04:32</div>
                                    </div>
                                </div>
                                <button onclick="startAIvAIBattle()"
                                    class="w-full bg-gradient-to-r from-purple-600 to-purple-800 text-white py-3 rounded-lg hover:from-purple-700 hover:to-purple-900 font-bold transition-all border border-purple-500/50">
                                    üëÅÔ∏è Watch Battle
                                </button>
                            </div>
                        </div>

                        <!-- AI vs Human Battle Card -->
                        <div
                            class="bg-gradient-to-br from-blue-900/30 to-black border-2 border-blue-500 rounded-xl p-6 relative overflow-hidden hover:scale-105 transition-all hover:shadow-2xl hover:shadow-blue-500/50">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-yellow-500 text-black px-3 py-1 rounded-full text-xs font-bold">HOT</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-r from-blue-500/10 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center">
                                        <i data-lucide="brain" class="h-6 w-6 text-blue-400"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-bold text-white">AI vs Human</h3>
                                        <p class="text-xs text-gray-400">ETH/USD - M10</p>
                                    </div>
                                </div>
                                <div class="bg-black/30 rounded-lg p-4 mb-4">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-sm text-gray-300">Llama Vision Pro</span>
                                        <span
                                            class="text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded border border-green-500/30">91.5%</span>
                                    </div>
                                    <div class="text-center text-xs text-gray-500 my-2">VS</div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-300">You</span>
                                        <span
                                            class="text-xs bg-orange-500/20 text-orange-400 px-2 py-1 rounded border border-orange-500/30">Join
                                            Now</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Pot</div>
                                        <div class="text-lg font-bold text-yellow-400">5.8 ETH</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Players</div>
                                        <div class="text-lg font-bold text-blue-400">89</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Time</div>
                                        <div class="text-lg font-bold text-red-400">08:15</div>
                                    </div>
                                </div>
                                <button onclick="startAIvHumanBattle()"
                                    class="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white py-3 rounded-lg hover:from-blue-700 hover:to-blue-900 font-bold transition-all border border-blue-500/50">
                                    ‚ö° Join Battle
                                </button>
                            </div>
                        </div>

                        <!-- Human vs Human Battle Card -->
                        <div
                            class="bg-gradient-to-br from-red-900/30 to-black border-2 border-red-500 rounded-xl p-6 relative overflow-hidden hover:scale-105 transition-all hover:shadow-2xl hover:shadow-red-500/50">
                            <div class="absolute top-2 right-2">
                                <span
                                    class="bg-green-500 text-white px-3 py-1 rounded-full text-xs font-bold">NEW</span>
                            </div>
                            <div class="absolute inset-0 bg-gradient-to-r from-red-500/10 to-transparent"></div>
                            <div class="relative z-10">
                                <div class="flex items-center gap-3 mb-4">
                                    <div class="w-12 h-12 bg-red-500/20 rounded-full flex items-center justify-center">
                                        <i data-lucide="users" class="h-6 w-6 text-red-400"></i>
                                    </div>
                                    <div>
                                        <h3 class="text-xl font-bold text-white">Human vs Human</h3>
                                        <p class="text-xs text-gray-400">SOL/USD - M15</p>
                                    </div>
                                </div>
                                <div class="bg-black/30 rounded-lg p-4 mb-4">
                                    <div class="flex justify-between items-center mb-2">
                                        <span class="text-sm text-gray-300">Player 1</span>
                                        <span
                                            class="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded border border-yellow-500/30">Waiting</span>
                                    </div>
                                    <div class="text-center text-xs text-gray-500 my-2">VS</div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-sm text-gray-300">Player 2</span>
                                        <span
                                            class="text-xs bg-yellow-500/20 text-yellow-400 px-2 py-1 rounded border border-yellow-500/30">Waiting</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between mb-4">
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Pot</div>
                                        <div class="text-lg font-bold text-yellow-400">2.1 ETH</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Players</div>
                                        <div class="text-lg font-bold text-blue-400">64</div>
                                    </div>
                                    <div class="text-center">
                                        <div class="text-xs text-gray-400">Time</div>
                                        <div class="text-lg font-bold text-red-400">12:45</div>
                                    </div>
                                </div>
                                <button onclick="startHumanvHumanBattle()"
                                    class="w-full bg-gradient-to-r from-red-600 to-red-800 text-white py-3 rounded-lg hover:from-red-700 hover:to-red-900 font-bold transition-all border border-red-500/50">
                                    üî• Create Battle
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Column - Sentiment & Leaderboard -->
                <div class="space-y-6">
                    <!-- Sentiment Meter -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="h-5 w-5 text-green-400"></i>
                            Market Sentiment
                        </h3>
                        <div class="space-y-4">
                            <div>
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-green-400 font-bold">üìà Bull 68%</span>
                                    <span class="text-red-400 font-bold">Bear 32% üìâ</span>
                                </div>
                                <div class="w-full bg-gray-700 rounded-full h-3 overflow-hidden">
                                    <div class="bg-gradient-to-r from-green-500 to-green-600 h-3 rounded-full"
                                        style="width: 68%"></div>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="bg-green-500/10 border border-green-500/30 rounded-lg p-3 text-center">
                                    <div class="text-2xl font-bold text-green-400">5,742</div>
                                    <div class="text-xs text-gray-400">Bull Votes</div>
                                </div>
                                <div class="bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-center">
                                    <div class="text-2xl font-bold text-red-400">2,687</div>
                                    <div class="text-xs text-gray-400">Bear Votes</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Winners -->
                    <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trophy" class="h-5 w-5 text-yellow-400"></i>
                            Recent Winners
                        </h3>
                        <div class="space-y-3">
                            <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                                <div class="flex items-center gap-2">
                                    <span class="text-xl">ü•á</span>
                                    <div>
                                        <div class="text-white font-semibold text-sm">CryptoKing</div>
                                        <div class="text-gray-400 text-xs">BTC Bull</div>
                                    </div>
                                </div>
                                <div class="text-green-400 font-bold text-sm">+2.4 ETH</div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                                <div class="flex items-center gap-2">
                                    <span class="text-xl">ü•à</span>
                                    <div>
                                        <div class="text-white font-semibold text-sm">TraderPro</div>
                                        <div class="text-gray-400 text-xs">ETH Bear</div>
                                    </div>
                                </div>
                                <div class="text-green-400 font-bold text-sm">+1.8 ETH</div>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-white/5 rounded-lg">
                                <div class="flex items-center gap-2">
                                    <span class="text-xl">ü•â</span>
                                    <div>
                                        <div class="text-white font-semibold text-sm">MoonShot</div>
                                        <div class="text-gray-400 text-xs">SOL Bull</div>
                                    </div>
                                </div>
                                <div class="text-green-400 font-bold text-sm">+1.2 ETH</div>
                            </div>
                        </div>
                    </div>

                    <!-- Your Position -->
                    <div
                        class="bg-gradient-to-br from-yellow-900/20 to-black border border-yellow-500/30 rounded-xl p-6">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="user" class="h-5 w-5 text-yellow-400"></i>
                            Your Position
                        </h3>
                        <div class="text-center py-4">
                            <div class="text-gray-400 text-sm mb-2">No active battles</div>
                            <button onclick="startAIvHumanBattle()"
                                class="bg-yellow-600 text-black px-4 py-2 rounded-lg hover:bg-yellow-500 font-bold text-sm">
                                Join Now
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Active Battles List -->
            <div class="mt-8">
                <h2 class="text-2xl font-bold mb-4 text-white flex items-center gap-2">
                    <i data-lucide="activity" class="h-6 w-6 text-red-500"></i>
                    All Active Battles
                </h2>
                <div class="bg-white/5 backdrop-blur-md border border-white/10 rounded-xl p-6">
                    <div class="space-y-3">
                        <div
                            class="flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-all">
                            <div class="flex items-center space-x-4">
                                <span class="text-2xl">ü§ñ</span>
                                <div>
                                    <h3 class="font-semibold text-white">GPT-4 vs Claude</h3>
                                    <p class="text-sm text-gray-400">Bitcoin $100k prediction</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span
                                    class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30">Live</span>
                                <button onclick="startAIvAIBattle()"
                                    class="bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 text-sm font-semibold">Watch</button>
                            </div>
                        </div>
                        <div
                            class="flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-all">
                            <div class="flex items-center space-x-4">
                                <span class="text-2xl">üë§</span>
                                <div>
                                    <h3 class="font-semibold text-white">User123 vs Llama Vision</h3>
                                    <p class="text-sm text-gray-400">Ethereum $6k prediction</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span
                                    class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30">Live</span>
                                <button onclick="startAIvHumanBattle()"
                                    class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-semibold">Watch</button>
                            </div>
                        </div>
                        <div
                            class="flex items-center justify-between p-4 bg-white/5 border border-white/10 rounded-lg hover:bg-white/10 transition-all">
                            <div class="flex items-center space-x-4">
                                <span class="text-2xl">‚öîÔ∏è</span>
                                <div>
                                    <h3 class="font-semibold text-white">CryptoKing vs TraderPro</h3>
                                    <p class="text-sm text-gray-400">Solana $300 prediction</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-4">
                                <span
                                    class="bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm border border-green-500/30">Live</span>
                                <button onclick="startHumanvHumanBattle()"
                                    class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 text-sm font-semibold">Watch</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Governance Page -->
        <div id="governance" class="page hidden relative">
            <!-- Background Effects -->
            <div class="absolute inset-0 -z-10 opacity-10">
                <div class="absolute w-96 h-96 bg-purple-500 rounded-full blur-3xl"
                    style="top: 10%; left: 10%; animation: float 8s ease-in-out infinite;"></div>
                <div class="absolute w-96 h-96 bg-blue-500 rounded-full blur-3xl"
                    style="bottom: 10%; right: 10%; animation: float 10s ease-in-out infinite reverse;"></div>
            </div>

            <!-- Header -->
            <div class="text-center mb-8">
                <h1 class="text-4xl md:text-6xl font-bold mb-3 text-white">DAO Governance</h1>
                <p class="text-lg text-gray-300">Shape the future of AION through community voting</p>
            </div>

            <!-- Filters & Create Button -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-3">
                    <select id="filter-status" class="w-full bg-transparent text-white text-sm font-mono"
                        onchange="filterProposals()">
                        <option value="all">üïì All Status</option>
                        <option value="active">üü¢ Active</option>
                        <option value="pending">üü° Pending</option>
                        <option value="executed">üî¥ Executed</option>
                    </select>
                </div>
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-3">
                    <select id="filter-category" class="w-full bg-transparent text-white text-sm font-mono"
                        onchange="filterProposals()">
                        <option value="all">üß≠ All Categories</option>
                        <option value="governance">‚öñÔ∏è Governance</option>
                        <option value="market">üìä Market</option>
                        <option value="ai">ü§ñ AI Model</option>
                    </select>
                </div>
                <div class="md:col-span-2">
                    <button onclick="openCreateProposal()"
                        class="w-full bg-gradient-to-r from-red-600 to-red-800 text-white px-6 py-3 rounded-xl hover:from-red-700 hover:to-red-900 font-bold transition-all shadow-lg shadow-red-500/30 hover:shadow-red-500/50">
                        ‚ú® Create New Proposal
                    </button>
                </div>
            </div>

            <!-- Stats Bar -->
            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <div class="text-xs text-gray-400 mb-1">Active Proposals</div>
                    <div class="text-2xl font-bold text-green-400">3</div>
                </div>
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <div class="text-xs text-gray-400 mb-1">Total Voters</div>
                    <div class="text-2xl font-bold text-blue-400">15,870</div>
                </div>
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <div class="text-xs text-gray-400 mb-1">Your Voting Power</div>
                    <div class="text-2xl font-bold text-purple-400" id="voting-power">0</div>
                </div>
                <div class="backdrop-blur-lg bg-white/5 border border-white/10 rounded-xl p-4">
                    <div class="text-xs text-gray-400 mb-1">Executed</div>
                    <div class="text-2xl font-bold text-yellow-400">42</div>
                </div>
            </div>

            <div class="space-y-6">
                <!-- Proposal 1 - Active -->
                <div class="backdrop-blur-lg bg-white/5 border border-green-500/30 rounded-xl p-6 shadow-2xl hover:shadow-red-500/50 hover:border-red-500/50 transition-all duration-300 relative overflow-hidden proposal-card"
                    data-status="active" data-category="ai" onclick="showProposalDetail(1)">
                    <div class="absolute top-4 left-4 text-4xl">üß†</div>
                    <div class="absolute inset-0 bg-gradient-to-r from-green-500/5 to-transparent"></div>
                    <div class="relative z-10 ml-16">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="text-2xl font-bold text-white mb-2">Increase AI Model Stake Requirement</h3>
                                <p class="text-gray-300 text-sm">Proposal to increase minimum stake from 1000 to 5000
                                    AION tokens to improve prediction quality.</p>
                            </div>
                            <span
                                class="bg-green-500/20 text-green-400 px-4 py-2 rounded-full text-sm font-bold border border-green-500/30 ml-4">üü¢
                                Active</span>
                        </div>

                        <div class="mb-6">
                            <div class="flex justify-between text-sm mb-3">
                                <span class="text-green-400 font-bold">‚úÖ 78.4% For (12,450 votes)</span>
                                <span class="text-red-400 font-bold">‚ùå 21.6% Against (3,420 votes)</span>
                            </div>
                            <div class="relative w-full h-4 bg-gray-700 rounded-full overflow-hidden">
                                <div class="absolute left-0 top-0 h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full transition-all duration-1000"
                                    style="width: 78.4%"></div>
                                <div class="absolute right-0 top-0 h-full bg-gradient-to-l from-red-500 to-red-600 rounded-full transition-all duration-1000"
                                    style="width: 21.6%"></div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-4 text-sm text-gray-400">
                                <span>‚è≥ Ends in <span class="text-white font-bold">12h 30m</span></span>
                                <span>üë• <span class="text-white font-bold">15,870</span> total votes</span>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <button onclick="voteProposal(1, 'for')"
                                class="flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-700 hover:to-green-800 font-bold transition-all">Vote
                                For</button>
                            <button onclick="voteProposal(1, 'against')"
                                class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg hover:from-red-700 hover:to-red-800 font-bold transition-all">Vote
                                Against</button>
                        </div>
                    </div>
                </div>

                <!-- Proposal 2 - Active -->
                <div class="backdrop-blur-lg bg-white/5 border border-green-500/30 rounded-xl p-6 shadow-2xl hover:shadow-red-500/50 hover:border-red-500/50 transition-all duration-300 relative overflow-hidden proposal-card"
                    data-status="active" data-category="market" onclick="showProposalDetail(2)">
                    <div class="absolute top-4 left-4 text-4xl">üè¶</div>
                    <div class="absolute inset-0 bg-gradient-to-r from-green-500/5 to-transparent"></div>
                    <div class="relative z-10 ml-16">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="text-2xl font-bold text-white mb-2">Add New Market Category: DeFi</h3>
                                <p class="text-gray-300 text-sm">Proposal to add DeFi as a new prediction market
                                    category.</p>
                            </div>
                            <span
                                class="bg-green-500/20 text-green-400 px-4 py-2 rounded-full text-sm font-bold border border-green-500/30 ml-4">üü¢
                                Active</span>
                        </div>

                        <div class="mb-6">
                            <div class="flex justify-between text-sm mb-3">
                                <span class="text-green-400 font-bold">‚úÖ 87.8% For (8,920 votes)</span>
                                <span class="text-red-400 font-bold">‚ùå 12.2% Against (1,240 votes)</span>
                            </div>
                            <div class="relative w-full h-4 bg-gray-700 rounded-full overflow-hidden">
                                <div class="absolute left-0 top-0 h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full transition-all duration-1000"
                                    style="width: 87.8%"></div>
                                <div class="absolute right-0 top-0 h-full bg-gradient-to-l from-red-500 to-red-600 rounded-full transition-all duration-1000"
                                    style="width: 12.2%"></div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-4 text-sm text-gray-400">
                                <span>‚è≥ Ends in <span class="text-white font-bold">8h 15m</span></span>
                                <span>üë• <span class="text-white font-bold">10,160</span> total votes</span>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <button onclick="voteProposal(2, 'for')"
                                class="flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-700 hover:to-green-800 font-bold transition-all">Vote
                                For</button>
                            <button onclick="voteProposal(2, 'against')"
                                class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg hover:from-red-700 hover:to-red-800 font-bold transition-all">Vote
                                Against</button>
                        </div>
                    </div>
                </div>

                <!-- Proposal 3 - Pending -->
                <div class="backdrop-blur-lg bg-white/5 border border-yellow-500/30 rounded-xl p-6 shadow-2xl hover:shadow-red-500/50 hover:border-red-500/50 transition-all duration-300 relative overflow-hidden proposal-card"
                    data-status="pending" data-category="governance" onclick="showProposalDetail(3)">
                    <div class="absolute top-4 left-4 text-4xl">‚öôÔ∏è</div>
                    <div class="absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-transparent"></div>
                    <div class="relative z-10 ml-16">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="text-2xl font-bold text-white mb-2">Reduce Transaction Fees by 50%</h3>
                                <p class="text-gray-300 text-sm">Proposal to reduce platform transaction fees from 2% to
                                    1% to attract more users.</p>
                            </div>
                            <span
                                class="bg-yellow-500/20 text-yellow-400 px-4 py-2 rounded-full text-sm font-bold border border-yellow-500/30 ml-4">üü°
                                Pending</span>
                        </div>

                        <div class="mb-6">
                            <div class="flex justify-between text-sm mb-3">
                                <span class="text-green-400 font-bold">‚úÖ 64.2% For (5,140 votes)</span>
                                <span class="text-red-400 font-bold">‚ùå 35.8% Against (2,860 votes)</span>
                            </div>
                            <div class="relative w-full h-4 bg-gray-700 rounded-full overflow-hidden">
                                <div class="absolute left-0 top-0 h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full transition-all duration-1000"
                                    style="width: 64.2%"></div>
                                <div class="absolute right-0 top-0 h-full bg-gradient-to-l from-red-500 to-red-600 rounded-full transition-all duration-1000"
                                    style="width: 35.8%"></div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between mb-4">
                            <div class="flex items-center gap-4 text-sm text-gray-400">
                                <span>‚è≥ Ends in <span class="text-white font-bold">2d 5h</span></span>
                                <span>üë• <span class="text-white font-bold">8,000</span> total votes</span>
                            </div>
                        </div>

                        <div class="flex gap-3">
                            <button onclick="voteProposal(3, 'for')"
                                class="flex-1 bg-gradient-to-r from-green-600 to-green-700 text-white px-6 py-3 rounded-lg hover:from-green-700 hover:to-green-800 font-bold transition-all">Vote
                                For</button>
                            <button onclick="voteProposal(3, 'against')"
                                class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white px-6 py-3 rounded-lg hover:from-red-700 hover:to-red-800 font-bold transition-all">Vote
                                Against</button>
                        </div>
                    </div>
                </div>

                <!-- Proposal 4 - Executed -->
                <div class="backdrop-blur-lg bg-white/5 border border-red-500/30 rounded-xl p-6 shadow-2xl hover:shadow-red-500/30 transition-all duration-300 relative overflow-hidden opacity-75 proposal-card"
                    data-status="executed" data-category="governance" onclick="showProposalDetail(4)">
                    <div class="absolute top-4 left-4 text-4xl">üîí</div>
                    <div class="absolute inset-0 bg-gradient-to-r from-red-500/5 to-transparent"></div>
                    <div class="relative z-10 ml-16">
                        <div class="flex items-start justify-between mb-4">
                            <div class="flex-1">
                                <h3 class="text-2xl font-bold text-white mb-2">Enable Multi-Chain Support</h3>
                                <p class="text-gray-300 text-sm">Proposal to add support for Ethereum, Polygon, and
                                    Arbitrum networks.</p>
                            </div>
                            <span
                                class="bg-red-500/20 text-red-400 px-4 py-2 rounded-full text-sm font-bold border border-red-500/30 ml-4">üî¥
                                Executed</span>
                        </div>

                        <div class="mb-4">
                            <div class="flex justify-between text-sm mb-3">
                                <span class="text-green-400 font-bold">‚úÖ 92.1% For (18,420 votes)</span>
                                <span class="text-red-400 font-bold">‚ùå 7.9% Against (1,580 votes)</span>
                            </div>
                            <div class="relative w-full h-4 bg-gray-700 rounded-full overflow-hidden">
                                <div class="absolute left-0 top-0 h-full bg-gradient-to-r from-green-500 to-green-600 rounded-full"
                                    style="width: 92.1%"></div>
                                <div class="absolute right-0 top-0 h-full bg-gradient-to-l from-red-500 to-red-600 rounded-full"
                                    style="width: 7.9%"></div>
                            </div>
                        </div>

                        <div class="text-sm text-gray-400">
                            ‚úÖ Executed on Jan 15, 2025 ‚Ä¢ üë• 20,000 total votes
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- User Info Page -->
        <div id="userinfo" class="page hidden relative">
            <!-- Background Effects -->
            <div class="absolute inset-0 -z-10 opacity-10">
                <div class="absolute w-96 h-96 bg-red-600 rounded-full blur-3xl"
                    style="top: 10%; left: 10%; animation: float 8s ease-in-out infinite;"></div>
                <div class="absolute w-96 h-96 bg-red-500 rounded-full blur-3xl"
                    style="bottom: 10%; right: 10%; animation: float 10s ease-in-out infinite reverse;"></div>
            </div>

            <h1 class="text-4xl font-bold mb-8 text-white text-center">Battle Profile</h1>

            <!-- Main Grid Layout -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                <!-- Left Panel - Profile Card -->
                <div class="space-y-6">
                    <div
                        class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-2xl hover:shadow-red-500/20 transition-all">
                        <div class="text-center mb-4">
                            <div class="relative inline-block">
                                <img id="userPhoto" src="https://api.dicebear.com/7.x/avataaars/svg?seed=default"
                                    alt="Profile"
                                    class="w-32 h-32 rounded-full border-4 border-red-500 shadow-lg shadow-red-500/50">
                                <button onclick="changePhoto()"
                                    class="absolute bottom-0 right-0 bg-red-600 text-white p-2 rounded-full hover:bg-red-700 shadow-lg">
                                    <i data-lucide="camera" class="h-4 w-4"></i>
                                </button>
                            </div>
                        </div>
                        <div class="text-center mb-4">
                            <h2 class="text-2xl font-bold text-white mb-1" id="userName">Anonymous User</h2>
                            <p class="text-gray-400 text-sm mb-2" id="userBio">No bio yet</p>
                            <div
                                class="inline-block bg-gradient-to-r from-yellow-600 to-yellow-800 text-white px-3 py-1 rounded-full text-xs font-bold">
                                ‚≠ê Elite Trader</div>
                        </div>
                        <div class="space-y-3 mb-4">
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400 text-sm">Wallet</span>
                                <span class="text-white font-mono text-xs" id="userWalletAddress">Not Connected</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-gray-400 text-sm">Rank</span>
                                <span class="text-yellow-400 font-bold">#142</span>
                            </div>
                            <div>
                                <div class="flex justify-between text-xs mb-1">
                                    <span class="text-gray-400">XP Progress</span>
                                    <span class="text-white font-bold">8,420 / 10,000</span>
                                </div>
                                <div class="w-full bg-gray-700 rounded-full h-2">
                                    <div class="bg-gradient-to-r from-red-500 to-red-700 h-2 rounded-full"
                                        style="width: 84.2%"></div>
                                </div>
                            </div>
                        </div>
                        <button onclick="editProfile()"
                            class="w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 font-semibold transition-all">
                            Edit Profile
                        </button>
                    </div>

                    <!-- Wallet Info -->
                    <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="wallet" class="h-5 w-5 text-red-500"></i>
                            Wallet
                        </h3>
                        <div class="space-y-3">
                            <div class="bg-white/5 rounded-lg p-3">
                                <p class="text-xs text-gray-400 mb-1">AION Balance</p>
                                <p class="text-2xl font-bold text-red-400" id="userAionBalance">0</p>
                            </div>
                            <div class="bg-white/5 rounded-lg p-3">
                                <p class="text-xs text-gray-400 mb-1">ETH Balance</p>
                                <p class="text-lg font-bold text-blue-400" id="userEthBalance">0</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Middle Panel - Stats & Achievements -->
                <div class="lg:col-span-2 space-y-6">
                    <!-- Battle Metrics -->
                    <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="swords" class="h-6 w-6 text-red-500"></i>
                            Battle Metrics
                        </h3>
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <div
                                class="bg-gradient-to-br from-green-900/30 to-black border border-green-500/30 rounded-lg p-4 hover:scale-105 transition-all">
                                <div class="text-xs text-gray-400 mb-1">Total Battles</div>
                                <div class="text-2xl font-bold text-green-400" id="userPredictions">0</div>
                            </div>
                            <div
                                class="bg-gradient-to-br from-blue-900/30 to-black border border-blue-500/30 rounded-lg p-4 hover:scale-105 transition-all">
                                <div class="text-xs text-gray-400 mb-1">Wins</div>
                                <div class="text-2xl font-bold text-blue-400" id="userWins">0</div>
                            </div>
                            <div
                                class="bg-gradient-to-br from-yellow-900/30 to-black border border-yellow-500/30 rounded-lg p-4 hover:scale-105 transition-all">
                                <div class="text-xs text-gray-400 mb-1">Win Rate</div>
                                <div class="text-2xl font-bold text-yellow-400" id="userWinRate">0%</div>
                            </div>
                            <div
                                class="bg-gradient-to-br from-purple-900/30 to-black border border-purple-500/30 rounded-lg p-4 hover:scale-105 transition-all">
                                <div class="text-xs text-gray-400 mb-1">Total Earned</div>
                                <div class="text-2xl font-bold text-purple-400" id="userRewards">0</div>
                            </div>
                        </div>
                    </div>

                    <!-- Stats Grid -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                            <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                                <i data-lucide="trending-up" class="h-5 w-5 text-green-500"></i>
                                Bullish Stats
                            </h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 text-sm">Bull Predictions</span>
                                    <span class="text-green-400 font-bold">42</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 text-sm">Bull Accuracy</span>
                                    <span class="text-green-400 font-bold">72%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 text-sm">Bull Earnings</span>
                                    <span class="text-green-400 font-bold" id="userTotalStaked">0 AION</span>
                                </div>
                            </div>
                        </div>

                        <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                            <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                                <i data-lucide="trending-down" class="h-5 w-5 text-red-500"></i>
                                Bearish Stats
                            </h3>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 text-sm">Bear Predictions</span>
                                    <span class="text-red-400 font-bold">28</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 text-sm">Bear Accuracy</span>
                                    <span class="text-red-400 font-bold">65%</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-400 text-sm">Bear Earnings</span>
                                    <span class="text-red-400 font-bold" id="userActiveStakes">0 AION</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Achievements -->
                    <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="award" class="h-6 w-6 text-yellow-500"></i>
                            Achievements
                        </h3>
                        <div class="grid grid-cols-3 md:grid-cols-6 gap-4">
                            <div class="text-center group cursor-pointer" title="Win your first battle">
                                <div
                                    class="w-16 h-16 mx-auto bg-gradient-to-br from-yellow-600 to-yellow-800 rounded-full flex items-center justify-center text-3xl mb-2 group-hover:scale-110 transition-all shadow-lg shadow-yellow-500/50">
                                    üèÜ
                                </div>
                                <p class="text-xs text-gray-400">First Win</p>
                            </div>
                            <div class="text-center group cursor-pointer" title="Win 10 battles">
                                <div
                                    class="w-16 h-16 mx-auto bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center text-3xl mb-2 group-hover:scale-110 transition-all shadow-lg shadow-blue-500/50">
                                    ‚öîÔ∏è
                                </div>
                                <p class="text-xs text-gray-400">Warrior</p>
                            </div>
                            <div class="text-center group cursor-pointer" title="Earn 1000 AION">
                                <div
                                    class="w-16 h-16 mx-auto bg-gradient-to-br from-green-600 to-green-800 rounded-full flex items-center justify-center text-3xl mb-2 group-hover:scale-110 transition-all shadow-lg shadow-green-500/50">
                                    üí∞
                                </div>
                                <p class="text-xs text-gray-400">Rich</p>
                            </div>
                            <div class="text-center group cursor-pointer opacity-50" title="Locked: Win 50 battles">
                                <div
                                    class="w-16 h-16 mx-auto bg-gray-700 rounded-full flex items-center justify-center text-3xl mb-2">
                                    üîí
                                </div>
                                <p class="text-xs text-gray-400">Legend</p>
                            </div>
                            <div class="text-center group cursor-pointer opacity-50" title="Locked: 90% win rate">
                                <div
                                    class="w-16 h-16 mx-auto bg-gray-700 rounded-full flex items-center justify-center text-3xl mb-2">
                                    üîí
                                </div>
                                <p class="text-xs text-gray-400">Master</p>
                            </div>
                            <div class="text-center group cursor-pointer opacity-50" title="Locked: Top 10 leaderboard">
                                <div
                                    class="w-16 h-16 mx-auto bg-gray-700 rounded-full flex items-center justify-center text-3xl mb-2">
                                    üîí
                                </div>
                                <p class="text-xs text-gray-400">Elite</p>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="backdrop-blur-lg bg-white/5 border border-red-700/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-xl font-bold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="history" class="h-6 w-6 text-red-500"></i>
                            Battle History
                        </h3>
                        <div class="space-y-2 max-h-64 overflow-y-auto" id="userRecentStakes">
                            <div
                                class="bg-white/5 border border-green-500/30 rounded-lg p-3 hover:bg-white/10 transition-all">
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-white font-semibold text-sm">BTC Bull vs AI</span>
                                    <span class="text-green-400 font-bold text-sm">+240 AION</span>
                                </div>
                                <div class="flex items-center justify-between text-xs">
                                    <span class="text-gray-400">2 hours ago</span>
                                    <span class="bg-green-500/20 text-green-400 px-2 py-0.5 rounded">WIN</span>
                                </div>
                            </div>
                            <div
                                class="bg-white/5 border border-red-500/30 rounded-lg p-3 hover:bg-white/10 transition-all">
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-white font-semibold text-sm">ETH Bear vs Human</span>
                                    <span class="text-red-400 font-bold text-sm">-150 AION</span>
                                </div>
                                <div class="flex items-center justify-between text-xs">
                                    <span class="text-gray-400">5 hours ago</span>
                                    <span class="bg-red-500/20 text-red-400 px-2 py-0.5 rounded">LOSS</span>
                                </div>
                            </div>
                            <div
                                class="bg-white/5 border border-green-500/30 rounded-lg p-3 hover:bg-white/10 transition-all">
                                <div class="flex items-center justify-between mb-1">
                                    <span class="text-white font-semibold text-sm">SOL Bull vs AI</span>
                                    <span class="text-green-400 font-bold text-sm">+180 AION</span>
                                </div>
                                <div class="flex items-center justify-between text-xs">
                                    <span class="text-gray-400">1 day ago</span>
                                    <span class="bg-green-500/20 text-green-400 px-2 py-0.5 rounded">WIN</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- AI Insight -->
                    <div
                        class="backdrop-blur-lg bg-gradient-to-br from-purple-900/30 to-black border border-purple-500/30 rounded-xl p-6 shadow-xl">
                        <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-2">
                            <i data-lucide="brain" class="h-5 w-5 text-purple-400"></i>
                            AI Insight
                        </h3>
                        <p class="text-gray-300 text-sm italic">"You've shown strong Bullish accuracy (72%) in volatile
                            markets. Keep it up!"</p>
                    </div>

                    <!-- Action Buttons -->
                    <div class="flex gap-4">
                        <button onclick="refreshUserInfo()"
                            class="flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-semibold transition-all flex items-center justify-center gap-2">
                            <i data-lucide="refresh-cw" class="h-5 w-5"></i>
                            Refresh Data
                        </button>
                        <button onclick="exportUserData()"
                            class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600 font-semibold transition-all flex items-center justify-center gap-2">
                            <i data-lucide="download" class="h-5 w-5"></i>
                            Export Data
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // Typing animation
        const typingText = document.getElementById('typing-text');
        if (typingText) {
            const text = typingText.textContent;
            typingText.textContent = '';
            let i = 0;
            const typeWriter = () => {
                if (i < text.length) {
                    typingText.textContent += text.charAt(i);
                    i++;
                    setTimeout(typeWriter, 50);
                }
            };
            setTimeout(typeWriter, 500);
        }

        // Fetch and display leaderboard data
        async function loadLeaderboard() {
            try {
                const response = await fetch('http://localhost:8001/api/ai-models');
                const models = await response.json();
                const tbody = document.querySelector('#leaderboard tbody');
                tbody.innerHTML = models.map((model, index) => `
                    <tr>
                        <td class="px-6 py-4">${index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : ''} ${model.rank}</td>
                        <td class="px-6 py-4">
                            <div class="flex items-center">
                                <div class="text-3xl mr-3">ü§ñ</div>
                                <div>
                                    <div class="font-medium">${model.name}</div>
                                    <div class="text-sm text-gray-600">${model.model_type}</div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4">${model.accuracy_rate}%</td>
                        <td class="px-6 py-4">${model.total_predictions}</td>
                        <td class="px-6 py-4 text-red-600 font-medium">$${model.total_earned.toLocaleString()}</td>
                    </tr>
                `).join('');
            } catch (error) {
                console.error('Error loading leaderboard:', error);
            }
        }

        // Load leaderboard when page opens
        document.addEventListener('DOMContentLoaded', loadLeaderboard);

        // User Info functionality
        function updateUserInfo() {
            if (isConnected && walletAddress) {
                const totalBattles = Math.floor(Math.random() * 50 + 20);
                const wins = Math.floor(totalBattles * (Math.random() * 0.3 + 0.6));
                const winRate = ((wins / totalBattles) * 100).toFixed(1);

                document.getElementById('userWalletAddress').textContent = walletAddress.substring(0, 6) + '...' + walletAddress.substring(38);
                document.getElementById('userAionBalance').textContent = (Math.random() * 10000 + 1000).toFixed(2) + ' AION';
                document.getElementById('userEthBalance').textContent = (Math.random() * 5).toFixed(4) + ' ETH';
                document.getElementById('userTotalStaked').textContent = (Math.random() * 5000).toFixed(2);
                document.getElementById('userActiveStakes').textContent = (Math.random() * 3000).toFixed(2);
                document.getElementById('userRewards').textContent = (Math.random() * 500).toFixed(2) + ' AION';
                document.getElementById('userPredictions').textContent = totalBattles;
                document.getElementById('userWins').textContent = wins;
                document.getElementById('userWinRate').textContent = winRate + '%';
            } else {
                document.getElementById('userWalletAddress').textContent = 'Not Connected';
                document.getElementById('userAionBalance').textContent = '0';
                document.getElementById('userEthBalance').textContent = '0';
                document.getElementById('userTotalStaked').textContent = '0';
                document.getElementById('userActiveStakes').textContent = '0';
                document.getElementById('userRewards').textContent = '0 AION';
                document.getElementById('userPredictions').textContent = '0';
                document.getElementById('userWins').textContent = '0';
                document.getElementById('userWinRate').textContent = '0%';
            }
        }

        function refreshUserInfo() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            updateUserInfo();
            alert('User data refreshed!');
        }

        function exportUserData() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            const data = {
                wallet: walletAddress,
                timestamp: new Date().toISOString(),
                balance: document.getElementById('userAionBalance').textContent,
                staked: document.getElementById('userTotalStaked').textContent,
                rewards: document.getElementById('userRewards').textContent
            };
            alert('Export Data:\n\n' + JSON.stringify(data, null, 2));
        }

        // Profile management
        function editProfile() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }

            const currentName = document.getElementById('userName').textContent;
            const currentBio = document.getElementById('userBio').textContent;

            const newName = prompt('Enter your name:', currentName === 'Anonymous User' ? '' : currentName);
            if (newName) {
                document.getElementById('userName').textContent = newName;
                localStorage.setItem('userName_' + walletAddress, newName);
            }

            const newBio = prompt('Enter your bio:', currentBio === 'No bio yet' ? '' : currentBio);
            if (newBio) {
                document.getElementById('userBio').textContent = newBio;
                localStorage.setItem('userBio_' + walletAddress, newBio);
            }

            if (newName || newBio) {
                alert('‚úÖ Profile updated successfully!');
            }
        }

        function changePhoto() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }

            const styles = ['avataaars', 'bottts', 'personas', 'lorelei', 'micah', 'adventurer'];
            let styleOptions = 'Select avatar style:\n\n';
            styles.forEach((style, i) => {
                styleOptions += `${i + 1}. ${style.charAt(0).toUpperCase() + style.slice(1)}\n`;
            });

            const choice = prompt(styleOptions + '\nEnter number (1-6):');
            if (choice && choice >= 1 && choice <= 6) {
                const selectedStyle = styles[choice - 1];
                const seed = walletAddress || 'default';
                const photoUrl = `https://api.dicebear.com/7.x/${selectedStyle}/svg?seed=${seed}`;
                document.getElementById('userPhoto').src = photoUrl;
                localStorage.setItem('userPhoto_' + walletAddress, photoUrl);
                alert('‚úÖ Photo updated!');
            }
        }

        function loadUserProfile() {
            if (isConnected && walletAddress) {
                const savedName = localStorage.getItem('userName_' + walletAddress);
                const savedBio = localStorage.getItem('userBio_' + walletAddress);
                const savedPhoto = localStorage.getItem('userPhoto_' + walletAddress);

                if (savedName) document.getElementById('userName').textContent = savedName;
                if (savedBio) document.getElementById('userBio').textContent = savedBio;
                if (savedPhoto) document.getElementById('userPhoto').src = savedPhoto;
                else document.getElementById('userPhoto').src = `https://api.dicebear.com/7.x/avataaars/svg?seed=${walletAddress}`;
            }
        }

        // Update dashboard user info
        function updateDashboardUserInfo() {
            if (isConnected && walletAddress) {
                const userName = localStorage.getItem('userName_' + walletAddress) || 'Anonymous';
                document.getElementById('dash-user-name').textContent = userName;
                document.getElementById('dash-user-wallet').textContent = walletAddress.substring(0, 6) + '...' + walletAddress.substring(38);
            }
        }

        // Wallet connection functionality
        let isConnected = false;
        let walletAddress = null;

        async function connectWallet() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    walletAddress = accounts[0];
                    isConnected = true;
                    updateWalletUI();
                    updateUserInfo();
                    loadUserProfile();
                    updateDashboardUserInfo();
                    updateVotingPower();
                    alert('Wallet connected: ' + walletAddress);
                } catch (error) {
                    console.error('Error connecting wallet:', error);
                    alert('Error connecting wallet: ' + error.message);
                }
            } else {
                alert('MetaMask not detected! Please install MetaMask browser extension.');
            }
        }

        function updateWalletUI() {
            const walletText = document.getElementById('walletText');
            if (isConnected && walletAddress) {
                walletText.textContent = walletAddress.substring(0, 6) + '...' + walletAddress.substring(38);
            } else {
                walletText.textContent = 'Connect Wallet';
            }
        }

        // Mobile Menu Toggle
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuIcon = document.querySelector('#mobileMenuBtn i');

            if (mobileMenu.classList.contains('hidden')) {
                mobileMenu.classList.remove('hidden');
                lucide.createIcons();
            } else {
                mobileMenu.classList.add('hidden');
            }
        }

        // Navigation functionality
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });

            // Show selected page
            document.getElementById(pageId).classList.remove('hidden');

            // Update desktop navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });

            // Update mobile navigation buttons
            document.querySelectorAll('.nav-btn-mobile').forEach(btn => {
                btn.classList.remove('active');
            });

            // Activate current button (desktop)
            if (event && event.target) {
                const btn = event.target.closest('.nav-btn') || event.target.closest('.nav-btn-mobile');
                if (btn) {
                    btn.classList.add('active');
                }
            }

            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Set initial active state
        document.querySelector('.nav-btn.active')?.classList.add('text-white');
        document.querySelectorAll('.nav-btn:not(.active)').forEach(btn => {
            btn.classList.add('text-white');
        });

        // Marketplace Functions
        function filterMarket(category) {
            alert(`Filtering by: ${category}`);
        }

        function showItemDetail(itemId) {
            const items = {
                ai1: { name: 'GPT-5 Oracle Pro', price: '850 AION', desc: 'AI Predictor Lv.5 ‚Äî Boosts accuracy by 25%', rarity: 'LEGENDARY' },
                boost1: { name: 'Speed Predictor', price: '320 AION', desc: 'Speed Booster ‚Äî Reduces prediction time by 50%', rarity: 'RARE' },
                nft1: { name: 'Bull Avatar #142', price: '580 AION', desc: 'Limited NFT ‚Äî Increases rewards by 10%', rarity: 'EPIC' },
                ai2: { name: 'Basic AI Predictor', price: '120 AION', desc: 'Starter AI ‚Äî Boosts accuracy by 5%', rarity: 'COMMON' },
                boost2: { name: 'Profit Multiplier', price: '450 AION', desc: 'Reward Booster ‚Äî 2x rewards for 12h', rarity: 'RARE' },
                nft2: { name: 'Bear Mask #89', price: '380 AION', desc: 'Collectible NFT ‚Äî +8% XP gain', rarity: 'RARE' }
            };

            const item = items[itemId];
            if (!item) return;

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
        <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-8 max-w-md w-full mx-4">
            <h3 class="text-3xl font-bold mb-2 text-white">${item.name}</h3>
            <p class="text-gray-400 mb-4">${item.desc}</p>
            <div class="bg-white/5 rounded-lg p-4 mb-4">
                <div class="flex justify-between mb-2">
                    <span class="text-gray-400">Rarity:</span>
                    <span class="text-yellow-400 font-bold">${item.rarity}</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="text-gray-400">Price:</span>
                    <span class="text-green-400 font-bold">${item.price}</span>
                </div>
            </div>
            <div class="flex gap-3">
                <button onclick="buyItem('${itemId}')" class="flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-bold">
                    Buy Now
                </button>
                <button onclick="closeModal()" class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600 font-bold">
                    Cancel
                </button>
            </div>
        </div>
    `;
            document.body.appendChild(modal);
        }

        function buyItem(itemId) {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            closeModal();
            alert('‚úÖ Purchase successful! Item added to your inventory.');
        }


        // Stake functionality with AI model selection
        const aiModels = [
            'GPT-4 Oracle Alpha (95.8% accuracy)',
            'Claude Predictor (93.2% accuracy)',
            'Llama Vision Pro (91.5% accuracy)',
            'Gemini Forecast (89.7% accuracy)',
            'Mistral Oracle (87.3% accuracy)'
        ];

        let selectedAIModel = null;
        let currentStakeButton = null;
        let battleInProgress = false;

        // Battle Functions
        const battleAIModels = [
            { name: 'GPT-4 Oracle Alpha', accuracy: '95.8%', color: 'blue' },
            { name: 'Claude Predictor', accuracy: '93.2%', color: 'purple' },
            { name: 'Llama Vision Pro', accuracy: '91.5%', color: 'green' },
            { name: 'Gemini Forecast', accuracy: '89.7%', color: 'yellow' },
            { name: 'Mistral Oracle', accuracy: '87.3%', color: 'red' }
        ];

        function startAIvAIBattle() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            if (battleInProgress) {
                alert('A battle is already in progress!');
                return;
            }

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-6 max-w-2xl w-full shadow-2xl shadow-red-500/50 relative max-h-[90vh] overflow-y-auto">
                    <!-- Progress Bar -->
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 via-yellow-500 to-red-500 animate-pulse"></div>
                    
                    <!-- Header -->
                    <div class="text-center mb-6 relative">
                        <h3 class="text-2xl font-bold text-white">
                            ‚öîÔ∏è Battle Arena Setup
                        </h3>
                        <p class="text-gray-400 text-sm mt-2">‚öôÔ∏è Preparing Arena...</p>
                    </div>
                    
                    <!-- Category Selection -->
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üìÇ Category</label>
                        <select id="ai-category-select" class="w-full bg-white/10 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm" onchange="updateBattleCategory('ai')">
                            <option value="crypto">üí∞ Crypto</option>
                            <option value="market">üìà Market (Stocks & Commodities)</option>
                        </select>
                    </div>

                    <!-- Asset Selection -->
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">ü™ô Select Asset</label>
                        <select id="ai-coin-select" class="w-full bg-white/10 border border-red-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm" onchange="updateLivePrice('ai')">
                            ${battleCoins.map((coin, i) => `<option value="${i}">${coin.name}</option>`).join('')}
                        </select>
                    </div>
                    
                    <!-- Live Price -->
                    <div class="mb-3 p-3 bg-gradient-to-r from-green-900/30 to-black border border-green-500/30 rounded-lg backdrop-blur-sm">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-xs font-bold text-gray-300">üìä Live Price:</span>
                            <span class="text-lg font-bold font-mono text-green-400 animate-pulse" id="ai-live-price">$0.00</span>
                        </div>
                        <div class="flex items-center gap-1 justify-end">
                            <svg class="w-3 h-3 text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 11H9v-2h2v2zm0-4H9V5h2v4z"/>
                            </svg>
                            <span class="text-[10px] text-purple-400 font-semibold">Powered by Pyth Network</span>
                        </div>
                    </div>
                    
                    <!-- AI Models -->
                    <div class="grid grid-cols-2 gap-2 mb-3">
                        <div class="bg-white/5 border border-blue-500/30 rounded-lg p-2 backdrop-blur-sm">
                            <label class="block text-xs font-bold text-blue-400 mb-1">ü§ñ AI Model A</label>
                            <select id="ai-a-select" class="w-full bg-white/10 border border-white/20 rounded-lg px-2 py-1.5 text-white text-xs">
                                ${battleAIModels.map((ai, i) => `<option value="${i}">${ai.name} (${ai.accuracy})</option>`).join('')}
                            </select>
                        </div>
                        <div class="bg-white/5 border border-purple-500/30 rounded-lg p-2 backdrop-blur-sm">
                            <label class="block text-xs font-bold text-purple-400 mb-1">ü§ñ AI Model B</label>
                            <select id="ai-b-select" class="w-full bg-white/10 border border-white/20 rounded-lg px-2 py-1.5 text-white text-xs">
                                ${battleAIModels.map((ai, i) => `<option value="${i}" ${i === 1 ? 'selected' : ''}>${ai.name} (${ai.accuracy})</option>`).join('')}
                            </select>
                        </div>
                    </div>
                    
                    <!-- Prediction -->
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üéØ Prediction</label>
                        <select id="ai-prediction" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                            <option value="BULLISH">üìà BULLISH</option>
                            <option value="BEARISH">üìâ BEARISH</option>
                        </select>
                    </div>
                    
                    <!-- Time Frame -->
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">‚è±Ô∏è Time Frame</label>
                        <select id="ai-timeframe" onchange="selectedTimeFrame = this.value" class="w-full bg-white/10 border border-yellow-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                            <option value="M1">M1 - 1 Minute</option>
                            <option value="M5" selected>M5 - 5 Minutes</option>
                            <option value="M10">M10 - 10 Minutes</option>
                            <option value="M15">M15 - 15 Minutes</option>
                            <option value="M30">M30 - 30 Minutes</option>
                            <option value="H1">H1 - 1 Hour</option>
                        </select>
                    </div>

                    <!-- Bet Selection -->
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üí∞ Choose Your Bet</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button type="button" onclick="window.selectBetSide('A'); event.stopPropagation();" id="bet-a" class="p-3 border-2 border-white/20 rounded-lg hover:bg-gradient-to-br hover:from-blue-600 hover:to-blue-800 hover:border-blue-500 transition-all text-white font-bold text-sm">
                                <div class="text-xl mb-0.5">ü§ñ</div>
                                Bet on AI A
                            </button>
                            <button type="button" onclick="window.selectBetSide('B'); event.stopPropagation();" id="bet-b" class="p-3 border-2 border-white/20 rounded-lg hover:bg-gradient-to-br hover:from-purple-600 hover:to-purple-800 hover:border-purple-500 transition-all text-white font-bold text-sm">
                                <div class="text-xl mb-0.5">ü§ñ</div>
                                Bet on AI B
                            </button>
                        </div>
                    </div>
                    
                    <!-- Bet Amount -->
                    <div class="mb-4">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üíé Bet Amount</label>
                        <input type="number" id="bet-amount" class="w-full bg-white/10 border border-yellow-500/30 rounded-lg px-3 py-2 text-white font-mono text-sm placeholder-gray-500" placeholder="Min. 10 AION" min="10">
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="flex gap-2">
                        <button onclick="startBattleWithBet()" class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white py-2.5 rounded-lg hover:from-red-700 hover:to-red-800 font-bold text-sm shadow-lg shadow-red-500/50 transition-all border border-red-500">
                            üöÄ Launch Arena
                        </button>
                        <button onclick="closeBattleModal()" class="flex-1 bg-white/5 border border-white/20 text-gray-300 py-2.5 rounded-lg hover:bg-white/10 font-semibold text-sm transition-all">
                            Cancel
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);

            // Reset to crypto category for this modal
            modalCategories['ai'] = 'crypto';

            // Set default timeframe to M5
            selectedTimeFrame = 'M5';

            // Wait for modal to render before updating price
            setTimeout(() => {
                console.log('üöÄ Initializing AI battle modal prices...');
                const priceEl = document.getElementById('ai-live-price');
                if (priceEl) {
                    console.log('‚úÖ Price element found, starting updates');
                    updateLivePrice('ai');
                    startLivePriceAnimation('ai');
                } else {
                    console.error('‚ùå Price element not found! Retrying...');
                    // Retry after longer delay
                    setTimeout(() => {
                        updateLivePrice('ai');
                        startLivePriceAnimation('ai');
                    }, 500);
                }
            }, 200);
        }

        let selectedBetSide = null;
        let selectedTimeFrame = null;
        let selectedTimeFrameHuman = null;
        let selectedTimeFramePvP = null;

        function selectTimeFrame(tf) {
            console.log('selectTimeFrame called with:', tf);
            selectedTimeFrame = tf;

            // ONLY target AI vs AI buttons (tf-*), not Human (tfh-*) or PvP (tfp-*)
            ['m1', 'm5', 'm10', 'm15', 'm30', 'h1'].forEach(t => {
                const btn = document.getElementById('tf-' + t);
                if (btn) {
                    // Reset to default style using inline styles
                    btn.style.backgroundColor = '';
                    btn.style.borderColor = 'rgba(255, 255, 255, 0.2)';
                    btn.style.boxShadow = '';
                }
            });

            // Add active state to selected button using inline styles
            const selectedBtn = document.getElementById('tf-' + tf.toLowerCase());
            if (selectedBtn) {
                selectedBtn.style.backgroundColor = 'rgba(239, 68, 68, 0.2)';
                selectedBtn.style.borderColor = 'rgb(239, 68, 68)';
                selectedBtn.style.boxShadow = '0 10px 15px -3px rgba(239, 68, 68, 0.5)';
                console.log('‚úì Timeframe selected:', tf);
            } else {
                console.error('‚úó Button not found:', 'tf-' + tf.toLowerCase());
            }
        }

        // Explicitly expose to window
        window.selectTimeFrame = selectTimeFrame;

        function selectTimeFrameHuman(tf) {
            selectedTimeFrameHuman = tf;
            ['M1', 'M5', 'M10', 'M15', 'M30', 'H1'].forEach(t => {
                const btn = document.getElementById('tfh-' + t.toLowerCase());
                if (btn) {
                    btn.classList.remove('bg-blue-500/20', 'border-blue-500', 'shadow-lg', 'shadow-blue-500/50');
                    btn.classList.add('border-white/20');
                }
            });
            const btn = document.getElementById('tfh-' + tf.toLowerCase());
            if (btn) {
                btn.classList.remove('border-white/20');
                btn.classList.add('bg-blue-500/20', 'border-blue-500', 'shadow-lg', 'shadow-blue-500/50');
            }
        }

        function selectTimeFramePvP(tf) {
            selectedTimeFramePvP = tf;
            ['M1', 'M5', 'M10', 'M15', 'M30', 'H1'].forEach(t => {
                const btn = document.getElementById('tfp-' + t.toLowerCase());
                if (btn) {
                    btn.classList.remove('bg-red-500/20', 'border-red-500', 'shadow-lg', 'shadow-red-500/50');
                    btn.classList.add('border-white/20');
                }
            });
            const btn = document.getElementById('tfp-' + tf.toLowerCase());
            if (btn) {
                btn.classList.remove('border-white/20');
                btn.classList.add('bg-red-500/20', 'border-red-500', 'shadow-lg', 'shadow-red-500/50');
            }
        }

        function selectBetSide(side) {
            console.log('selectBetSide called with:', side);
            selectedBetSide = side;
            const btnA = document.getElementById('bet-a');
            const btnB = document.getElementById('bet-b');
            btnA.classList.remove('bg-gradient-to-br', 'from-blue-600', 'to-blue-800', 'border-blue-500', 'shadow-lg', 'shadow-blue-500/50');
            btnB.classList.remove('bg-gradient-to-br', 'from-purple-600', 'to-purple-800', 'border-purple-500', 'shadow-lg', 'shadow-purple-500/50');
            if (side === 'A') {
                btnA.classList.add('bg-gradient-to-br', 'from-blue-600', 'to-blue-800', 'border-blue-500', 'shadow-lg', 'shadow-blue-500/50');
            } else {
                btnB.classList.add('bg-gradient-to-br', 'from-purple-600', 'to-purple-800', 'border-purple-500', 'shadow-lg', 'shadow-purple-500/50');
            }
        }

        // Explicitly expose to window
        window.selectBetSide = selectBetSide;

        function startBattleWithBet() {
            const aiAIndex = document.getElementById('ai-a-select').value;
            const aiBIndex = document.getElementById('ai-b-select').value;
            const coinIndex = document.getElementById('ai-coin-select').value;
            const betAmount = document.getElementById('bet-amount').value;
            const prediction = document.getElementById('ai-prediction').value;
            const aiAPrediction = prediction;
            const aiBPrediction = prediction === 'BULLISH' ? 'BEARISH' : 'BULLISH';

            if (aiAIndex === aiBIndex) {
                showToast('‚ö†Ô∏è Please select different AI models!', 'error');
                return;
            }
            if (!selectedBetSide) {
                showToast('‚ö†Ô∏è Please select which AI to bet on!', 'error');
                return;
            }
            if (!betAmount || betAmount < 10) {
                showToast('‚ö†Ô∏è Minimum bet is 10 AION!', 'error');
                return;
            }

            if (priceInterval) clearInterval(priceInterval);

            // Show loading modal
            const loadingModal = document.createElement('div');
            loadingModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            loadingModal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-8 text-center shadow-2xl shadow-red-500/50">
                    <div class="text-6xl mb-4 animate-bounce">‚öôÔ∏è</div>
                    <h3 class="text-2xl font-bold text-white mb-2">Deploying AI Agents to Arena...</h3>
                    <div class="w-64 bg-gray-700 rounded-full h-2 mt-4">
                        <div class="bg-gradient-to-r from-red-500 to-yellow-500 h-2 rounded-full animate-pulse" style="width: 100%"></div>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingModal);

            setTimeout(() => {
                loadingModal.remove();
            }, 1500);

            const aiA = battleAIModels[aiAIndex];
            const aiB = battleAIModels[aiBIndex];

            // Get coin from the correct category
            const category = modalCategories['ai'] || 'crypto';
            const assets = battleAssets[category];
            const coin = assets[coinIndex];

            battlePlayer1Name = aiA.name;
            battlePlayer2Name = aiB.name;

            closeBattleModal();
            battleInProgress = true;

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-purple-500 rounded-xl p-6 max-w-3xl w-full mx-4 shadow-2xl shadow-purple-500/50">
                    <!-- Header -->
                    <div class="text-center mb-6">
                        <h3 class="text-3xl font-bold text-white mb-3 flex items-center justify-center gap-2">
                            <span class="text-4xl">‚öîÔ∏è</span>
                            AI vs AI Battle
                        </h3>
                        <div class="bg-gradient-to-r from-purple-900/30 to-black border border-purple-500/30 rounded-lg p-4 mb-2">
                            <div class="flex items-center justify-center gap-4 flex-wrap">
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Asset:</span>
                                    <span class="font-bold text-white">${coin.name}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Prediction:</span>
                                    <span class="font-bold px-3 py-1 rounded-full ${aiAPrediction === 'BULLISH' ? 'bg-green-500/20 text-green-400 border border-green-500/50' : 'bg-red-500/20 text-red-400 border border-red-500/50'}">
                                        ${aiAPrediction === 'BULLISH' ? 'üìà BULLISH' : 'üìâ BEARISH'}
                                    </span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Timeframe:</span>
                                    <span class="font-bold text-purple-400">${selectedTimeFrame}</span>
                                </div>
                            </div>
                            <div class="mt-3 pt-3 border-t border-white/10">
                                <span class="text-yellow-400 text-sm">üí∞ Your Bet: <span class="font-bold text-xl">${betAmount} AION</span> on <span class="font-bold text-white">AI ${selectedBetSide}</span></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Battle Arena -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="relative">
                            <div class="text-center p-6 bg-gradient-to-br from-blue-900/30 to-black border-2 ${selectedBetSide === 'A' ? 'border-yellow-500 shadow-lg shadow-yellow-500/50' : 'border-blue-500/30'} rounded-xl transition-all">
                                ${selectedBetSide === 'A' ? '<div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-yellow-500 text-black px-3 py-1 rounded-full text-xs font-bold">YOUR BET</div>' : ''}
                                <div class="text-5xl mb-3">ü§ñ</div>
                                <h4 class="font-bold text-xl text-white mb-1">${aiA.name}</h4>
                                <p class="text-sm text-blue-400 mb-2">${aiA.accuracy}</p>
                                <div class="inline-block px-3 py-1 rounded-full text-sm font-bold mb-3 ${aiAPrediction === 'BULLISH' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}">
                                    ${aiAPrediction === 'BULLISH' ? 'üìà' : 'üìâ'} ${aiAPrediction}
                                </div>
                                <div class="mt-3 text-4xl font-bold text-blue-400" id="ai1-score">0</div>
                                <div class="text-xs text-gray-500 mt-1">Score</div>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="text-center p-6 bg-gradient-to-br from-purple-900/30 to-black border-2 ${selectedBetSide === 'B' ? 'border-yellow-500 shadow-lg shadow-yellow-500/50' : 'border-purple-500/30'} rounded-xl transition-all">
                                ${selectedBetSide === 'B' ? '<div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-yellow-500 text-black px-3 py-1 rounded-full text-xs font-bold">YOUR BET</div>' : ''}
                                <div class="text-5xl mb-3">ü§ñ</div>
                                <h4 class="font-bold text-xl text-white mb-1">${aiB.name}</h4>
                                <p class="text-sm text-purple-400 mb-2">${aiB.accuracy}</p>
                                <div class="inline-block px-3 py-1 rounded-full text-sm font-bold mb-3 ${aiBPrediction === 'BULLISH' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}">
                                    ${aiBPrediction === 'BULLISH' ? 'üìà' : 'üìâ'} ${aiBPrediction}
                                </div>
                                <div class="mt-3 text-4xl font-bold text-purple-400" id="ai2-score">0</div>
                                <div class="text-xs text-gray-500 mt-1">Score</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Battle Status -->
                    <div class="bg-gradient-to-r from-red-900/30 to-black border border-red-500/30 rounded-lg p-4 mb-4">
                        <div class="text-center">
                            <div class="text-lg font-bold text-white mb-2" id="battle-status">‚ö° Battle starting...</div>
                            <div class="w-full bg-gray-700 rounded-full h-3 overflow-hidden">
                                <div class="bg-gradient-to-r from-red-500 to-yellow-500 h-3 rounded-full transition-all duration-500" id="battle-progress" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Close Button -->
                    <button onclick="closeBattleModal()" class="w-full bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white py-3 rounded-lg font-bold transition-all border border-gray-600">
                        Close Battle
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
            simulateBattleWithBet('ai1-score', 'ai2-score', betAmount);
        }

        // Battle Assets - Crypto & Market
        const battleAssets = {
            crypto: [
                {
                    name: 'Bitcoin (BTC)',
                    symbol: 'BTC',
                    category: 'Crypto',
                    target: '$100,000',
                    basePrice: 95000,
                    pythId: '0xe62df6c8b4a85fe1a67db44dc12de5db330f7ac66b72dc658afedf0f4a415b43'
                },
                {
                    name: 'Ethereum (ETH)',
                    symbol: 'ETH',
                    category: 'Crypto',
                    target: '$6,000',
                    basePrice: 3500,
                    pythId: '0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace'
                },
                {
                    name: 'Solana (SOL)',
                    symbol: 'SOL',
                    category: 'Crypto',
                    target: '$300',
                    basePrice: 180,
                    pythId: '0xef0d8b6fda2ceba41da15d4095d1da392a0d2f8ed0c6c7bc0f4cfac8c280b56d'
                },
                {
                    name: 'BNB',
                    symbol: 'BNB',
                    category: 'Crypto',
                    target: '$800',
                    basePrice: 650,
                    pythId: '0x2f95862b045670cd22bee3114c39763a4a08beeb663b145d283c31d7d1101c4f'
                },
                {
                    name: 'Cardano (ADA)',
                    symbol: 'ADA',
                    category: 'Crypto',
                    target: '$2',
                    basePrice: 1.2,
                    pythId: '0x2a01deaec9e51a579277b34b122399984d0bbf57e2458a7e42fecd2829867a0d'
                }
            ],
            market: [
                {
                    name: 'Gold (XAU/USD)',
                    symbol: 'XAU',
                    category: 'Commodities',
                    target: '$2,100',
                    basePrice: 2050,
                    pythId: '0x765d2ba906dbc32ca17cc11f5310a89e9ee1f6420508c63861f2f8ba4ee34bb2'
                },
                {
                    name: 'Silver (XAG/USD)',
                    symbol: 'XAG',
                    category: 'Commodities',
                    target: '$26',
                    basePrice: 24.5,
                    pythId: '0xf2fb02c32b055c805e7238d628e5e9dadef274376114eb1f012337cabe93871e'
                },
                {
                    name: 'Crude Oil (WTI)',
                    symbol: 'WTI',
                    category: 'Commodities',
                    target: '$85',
                    basePrice: 78,
                    pythId: '0x9d4294bbcd1174d6f2003ec365831e64cc31d9f6f15a2b85399db8d5000960f6'
                },
                {
                    name: 'S&P 500',
                    symbol: 'SPX',
                    category: 'Indices',
                    target: '5,000',
                    basePrice: 4850,
                    pythId: '0xff61491a931112ddf1bd8147cd1b641375f79f5825126d665480874634fd0ace' // Using ETH as placeholder
                },
                {
                    name: 'EUR/USD',
                    symbol: 'EURUSD',
                    category: 'Forex',
                    target: '1.10',
                    basePrice: 1.08,
                    pythId: '0xa995d00bb36a63cef7fd2c287dc105fc8f3d93779f062f09551b0af3e81ec30b'
                }
            ]
        };

        // Default to crypto for backward compatibility
        let battleCoins = battleAssets.crypto;
        let currentCategory = 'crypto';

        // Track category per modal type
        let modalCategories = {
            ai: 'crypto',
            human: 'crypto',
            pvp: 'crypto'
        };

        let priceInterval = null;
        let previousPrices = {};
        const PYTH_ENDPOINT = 'https://hermes.pyth.network';

        // Update battle category
        function updateBattleCategory(type) {
            console.log('updateBattleCategory called with type:', type);
            const categorySelectId = type + '-category-select';
            const coinSelectId = type + '-coin-select';
            console.log('Looking for elements:', categorySelectId, coinSelectId);

            const categorySelect = document.getElementById(categorySelectId);
            if (!categorySelect) {
                console.error('Category select not found:', categorySelectId);
                return;
            }

            const category = categorySelect.value;
            console.log('Selected category:', category);

            // Store category per modal type
            modalCategories[type] = category;

            // Get assets for this category
            const assets = battleAssets[category];
            console.log('Updated assets for', type, ':', assets.length, 'items');

            // Update coin dropdown
            const coinSelect = document.getElementById(coinSelectId);
            if (coinSelect) {
                coinSelect.innerHTML = assets.map((coin, i) =>
                    `<option value="${i}">${coin.name}</option>`
                ).join('');
                console.log('Coin dropdown updated');

                // Update price after category change
                updateLivePrice(type);
            } else {
                console.error('Coin select not found:', coinSelectId);
            }
        }

        // Explicitly expose to window
        window.updateBattleCategory = updateBattleCategory;

        // Fetch price from Pyth Network
        async function fetchPythPrice(pythId) {
            if (!pythId) {
                console.warn('fetchPythPrice: No pythId provided');
                return null;
            }
            
            try {
                console.log(`Fetching price for pythId: ${pythId}`);
                const url = `${PYTH_ENDPOINT}/api/latest_price_feeds?ids[]=${pythId}`;
                const response = await fetch(url);
                
                if (!response.ok) {
                    console.error(`Pyth API error: ${response.status} ${response.statusText}`);
                    return null;
                }
                
                const data = await response.json();
                console.log('Pyth API response:', data);

                if (data && data.length > 0) {
                    const priceData = data[0];
                    const price = parseFloat(priceData.price.price) * Math.pow(10, priceData.price.expo);
                    console.log(`‚úÖ Pyth price fetched: $${price.toFixed(2)}`);
                    return price;
                } else {
                    console.warn('Pyth API returned empty data');
                    return null;
                }
            } catch (error) {
                console.error('Error fetching Pyth price:', error);
                return null;
            }
        }

        async function updateLivePrice(type) {
            let selectId, priceId;
            if (type === 'ai') {
                selectId = 'ai-coin-select';
                priceId = 'ai-live-price';
            } else if (type === 'human') {
                selectId = 'human-coin-select';
                priceId = 'human-live-price';
            } else {
                selectId = 'pvp-coin-select';
                priceId = 'pvp-live-price';
            }

            const selectEl = document.getElementById(selectId);
            if (!selectEl) {
                console.warn(`Select element not found: ${selectId}`);
                return;
            }

            const coinIndex = selectEl.value;

            // Get assets from the correct category for this modal
            const category = modalCategories[type] || 'crypto';
            const assets = battleAssets[category];
            const coin = assets[coinIndex];

            const priceEl = document.getElementById(priceId);

            if (!priceEl) {
                console.warn(`Price element not found: ${priceId}`);
                return;
            }

            // Try to fetch from Pyth Network
            let livePrice = await fetchPythPrice(coin.pythId);

            // Fallback to simulated price if Pyth fails
            if (!livePrice) {
                console.log(`Using simulated price for ${coin.symbol}`);
                const variation = (Math.random() - 0.5) * 0.02;
                livePrice = coin.basePrice * (1 + variation);
            } else {
                console.log(`Fetched live price for ${coin.symbol}: $${livePrice}`);
            }

            // Determine price direction
            const previousPrice = previousPrices[coin.symbol] || livePrice;
            const priceChange = livePrice - previousPrice;
            previousPrices[coin.symbol] = livePrice;

            // Update display
            priceEl.textContent = '$' + livePrice.toLocaleString('en-US', { minimumFractionDigits: 2, maximumFractionDigits: 2 });

            // Update color based on price movement
            if (priceChange > 0) {
                priceEl.className = 'text-lg font-bold font-mono text-green-400 animate-pulse';
            } else if (priceChange < 0) {
                priceEl.className = 'text-lg font-bold font-mono text-red-400 animate-pulse';
            } else {
                priceEl.className = 'text-lg font-bold font-mono text-gray-400 animate-pulse';
            }
        }

        // Explicitly expose to window
        window.updateLivePrice = updateLivePrice;

        function startLivePriceAnimation(type) {
            console.log(`üîÑ Starting live price animation for: ${type}`);
            if (priceInterval) {
                clearInterval(priceInterval);
                console.log('Cleared previous price interval');
            }
            priceInterval = setInterval(() => {
                console.log(`‚è∞ Price update tick for: ${type}`);
                updateLivePrice(type);
            }, 2000);
        }

        // Dashboard Live Prices Update
        let dashboardPriceInterval = null;

        const dashAIModels = [
            { name: 'GPT-4 Oracle', accuracy: '95.8%' },
            { name: 'Claude Predictor', accuracy: '93.2%' },
            { name: 'Llama Vision', accuracy: '91.5%' },
            { name: 'Gemini Forecast', accuracy: '89.7%' },
            { name: 'Mistral Analyzer', accuracy: '88.3%' }
        ];

        const assetIcons = {
            crypto: ['‚Çø', 'Œû', '‚óé', 'B', 'A'],
            market: ['ü•á', 'ü•à', 'üõ¢Ô∏è', 'üìä', 'üí±']
        };
        const assetColors = {
            crypto: ['bg-orange-500', 'bg-blue-500', 'bg-gradient-to-r from-purple-500 to-pink-500', 'bg-yellow-500', 'bg-blue-400'],
            market: ['bg-yellow-600', 'bg-gray-400', 'bg-green-700', 'bg-blue-600', 'bg-purple-600']
        };

        function updateDashboardCategory() {
            const category = document.getElementById('dash-category-select').value;
            battleCoins = battleAssets[category];
            currentCategory = category;

            // Update asset dropdown
            const coinSelect = document.getElementById('dash-coin-select');
            coinSelect.innerHTML = battleCoins.map((coin, i) =>
                `<option value="${i}">${coin.name}</option>`
            ).join('');

            // Update prediction
            updateDashboardPrediction();
        }

        async function updateDashboardPrediction() {
            const aiIndex = document.getElementById('dash-ai-select').value;
            const coinIndex = document.getElementById('dash-coin-select').value;

            const ai = dashAIModels[aiIndex];
            const coin = battleCoins[coinIndex];

            // Update AI info
            document.getElementById('dash-ai-info').textContent = `${ai.name} ‚Ä¢ ${ai.accuracy}`;

            // Update coin info
            document.getElementById('dash-coin-name').textContent = coin.name.split(' (')[0];
            const iconEl = document.getElementById('dash-coin-icon');
            const icons = assetIcons[currentCategory] || assetIcons.crypto;
            const colors = assetColors[currentCategory] || assetColors.crypto;
            iconEl.textContent = icons[coinIndex] || icons[0];
            iconEl.className = `w-12 h-12 ${colors[coinIndex] || colors[0]} rounded-full flex items-center justify-center text-white font-bold text-xl`;

            // Update live price from Pyth
            const livePrice = await fetchPythPrice(coin.pythId);
            if (livePrice) {
                document.getElementById('dash-live-price').textContent = '$' + livePrice.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 0 });
            }

            // Determine overall trend (random for now, can be based on AI analysis)
            const isBullish = Math.random() > 0.4; // 60% chance bullish
            const directionBadge = document.getElementById('dash-direction-badge');

            if (isBullish) {
                directionBadge.className = 'mb-3 p-3 bg-green-500/20 border border-green-500/40 rounded-lg text-center';
                directionBadge.innerHTML = `
                    <div class="text-2xl mb-1">üìà</div>
                    <div class="text-green-400 font-bold text-lg">BULLISH TREND</div>
                    <div class="text-xs text-gray-400 mt-1">AI predicts price will rise</div>
                `;
            } else {
                directionBadge.className = 'mb-3 p-3 bg-red-500/20 border border-red-500/40 rounded-lg text-center';
                directionBadge.innerHTML = `
                    <div class="text-2xl mb-1">üìâ</div>
                    <div class="text-red-400 font-bold text-lg">BEARISH TREND</div>
                    <div class="text-xs text-gray-400 mt-1">AI predicts price will fall</div>
                `;
            }

            // Update timeframe predictions with random variations
            const timeframes = ['m1', 'm5', 'm10', 'm15', 'm30', 'h1'];
            const percentages = [0.5, 1.2, 1.8, 2.3, 3.5, 5.8];

            timeframes.forEach((tf, index) => {
                const tfEl = document.getElementById('tf-' + tf);
                const randomBullish = Math.random() > 0.3; // 70% chance bullish if overall bullish
                const actualBullish = isBullish ? randomBullish : !randomBullish;
                const percent = percentages[index] * (Math.random() * 0.5 + 0.75); // Random variation
                const sign = actualBullish ? '+' : '-';
                const color = actualBullish ? 'green' : 'red';
                const emoji = actualBullish ? 'üìà' : 'üìâ';

                tfEl.className = `bg-${color}-500/20 border border-${color}-500/40 rounded px-2 py-2 text-center`;
                tfEl.innerHTML = `
                    <div class="text-[10px] text-gray-400 mb-1">${tf.toUpperCase()}</div>
                    <div class="text-sm text-${color}-400 font-bold">${emoji}</div>
                    <div class="text-[9px] text-${color}-400 mt-0.5">${sign}${percent.toFixed(1)}%</div>
                `;
            });
        }

        function startDashboardPriceUpdates() {
            updateDashboardPrediction(); // Initial update
            if (dashboardPriceInterval) clearInterval(dashboardPriceInterval);
            dashboardPriceInterval = setInterval(updateDashboardPrediction, 5000); // Update every 5 seconds
        }

        // Start dashboard price updates when page loads
        if (document.getElementById('dashboard')) {
            setTimeout(startDashboardPriceUpdates, 500);
        }

        function startAIvHumanBattle() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            if (battleInProgress) {
                alert('A battle is already in progress!');
                return;
            }

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-blue-500 rounded-xl p-4 max-w-md w-full shadow-2xl shadow-blue-500/50 relative overflow-hidden max-h-[90vh] overflow-y-auto">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-blue-500 via-cyan-500 to-blue-500 animate-pulse"></div>
                    <div class="text-center mb-4 relative">
                        <h3 class="text-xl font-bold text-white">
                            üß† AI vs Human Battle
                        </h3>
                        <p class="text-gray-400 text-xs mt-1">‚öôÔ∏è Challenge the AI...</p>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">ü§ñ Select AI Opponent</label>
                        <select id="ai-opponent-select" class="w-full bg-white/10 border border-blue-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm">
                            ${battleAIModels.map((ai, i) => `<option value="${i}">${ai.name} (${ai.accuracy})</option>`).join('')}
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üìÇ Category</label>
                        <select id="human-category-select" class="w-full bg-white/10 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm" onchange="window.updateBattleCategory('human')">
                            <option value="crypto">üí∞ Crypto</option>
                            <option value="market">üìà Market</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">ü™ô Select Asset</label>
                        <select id="human-coin-select" class="w-full bg-white/10 border border-blue-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm" onchange="window.updateLivePrice('human')">
                            ${battleCoins.map((coin, i) => `<option value="${i}">${coin.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="mb-3 p-3 bg-gradient-to-r from-green-900/30 to-black border border-green-500/30 rounded-lg backdrop-blur-sm">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-xs font-bold text-gray-300">üìä Live Price:</span>
                            <span class="text-lg font-bold font-mono text-green-400 animate-pulse" id="human-live-price">$0.00</span>
                        </div>
                        <div class="flex items-center gap-1 justify-end">
                            <svg class="w-3 h-3 text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 11H9v-2h2v2zm0-4H9V5h2v4z"/>
                            </svg>
                            <span class="text-[10px] text-purple-400 font-semibold">Powered by Pyth Network</span>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üéØ Your Prediction</label>
                        <select id="human-prediction" class="w-full bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                            <option value="BULLISH">üìà BULLISH</option>
                            <option value="BEARISH">ÔøΩ BBEARISH</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">‚è±Ô∏è Time Frame</label>
                        <select id="human-timeframe" onchange="selectedTimeFrameHuman = this.value" class="w-full bg-white/10 border border-yellow-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                            <option value="M1">M1 - 1 Minute</option>
                            <option value="M5" selected>M5 - 5 Minutes</option>
                            <option value="M10">M10 - 10 Minutes</option>
                            <option value="M15">M15 - 15 Minutes</option>
                            <option value="M30">M30 - 30 Minutes</option>
                            <option value="H1">H1 - 1 Hour</option>
                        </select>
                    </div>
                    <div class="mb-4">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üíé Bet Amount</label>
                        <input type="number" id="human-bet-amount" class="w-full bg-white/10 border border-yellow-500/30 rounded-lg px-3 py-2 text-white font-mono text-sm placeholder-gray-500" placeholder="Min. 10 AION" min="10">
                    </div>
                    <div class="flex gap-2">
                        <button onclick="startHumanBattle()" class="flex-1 bg-gradient-to-r from-blue-600 to-blue-700 text-white py-2.5 rounded-lg hover:from-blue-700 hover:to-blue-800 font-bold text-sm shadow-lg shadow-blue-500/50 transition-all border border-blue-500">
                            üöÄ Launch Arena
                        </button>
                        <button onclick="closeBattleModal()" class="flex-1 bg-white/5 border border-white/20 text-gray-300 py-2.5 rounded-lg hover:bg-white/10 font-semibold text-sm transition-all">
                            Cancel
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);

            // Reset to crypto category for this modal
            modalCategories['human'] = 'crypto';

            // Set default timeframe to M5
            selectedTimeFrameHuman = 'M5';

            // Use event delegation for AI vs Human
            modal.addEventListener('click', function (e) {
                const target = e.target.closest('button');
                if (!target) return;

                // Handle timeframe buttons
                if (target.id && target.id.startsWith('tfh-')) {
                    e.preventDefault();
                    e.stopPropagation();
                    const tf = target.textContent.trim();
                    selectTimeFrameHuman(tf);
                }
            });

            // Wait for modal to render before updating price
            setTimeout(() => {
                console.log('üöÄ Initializing Human battle modal prices...');
                const priceEl = document.getElementById('human-live-price');
                if (priceEl) {
                    console.log('‚úÖ Price element found, starting updates');
                    updateLivePrice('human');
                    startLivePriceAnimation('human');
                } else {
                    console.error('‚ùå Price element not found! Retrying...');
                    setTimeout(() => {
                        updateLivePrice('human');
                        startLivePriceAnimation('human');
                    }, 500);
                }
            }, 200);
        }

        function startHumanBattle() {
            const aiIndex = document.getElementById('ai-opponent-select').value;
            const coinIndex = document.getElementById('human-coin-select').value;
            const betAmount = document.getElementById('human-bet-amount').value;
            const humanPrediction = document.getElementById('human-prediction').value;

            if (!selectedTimeFrameHuman) {
                showToast('‚ö†Ô∏è Please select a time frame!', 'error');
                return;
            }
            if (!betAmount || betAmount < 10) {
                showToast('‚ö†Ô∏è Minimum bet is 10 AION!', 'error');
                return;
            }

            if (priceInterval) clearInterval(priceInterval);

            const loadingModal = document.createElement('div');
            loadingModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            loadingModal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-blue-500 rounded-xl p-8 text-center shadow-2xl shadow-blue-500/50">
                    <div class="text-6xl mb-4 animate-bounce">‚öôÔ∏è</div>
                    <h3 class="text-2xl font-bold text-white mb-2">Deploying AI Agents to Arena...</h3>
                    <div class="w-64 bg-gray-700 rounded-full h-2 mt-4">
                        <div class="bg-gradient-to-r from-blue-500 to-cyan-500 h-2 rounded-full animate-pulse" style="width: 100%"></div>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingModal);

            setTimeout(() => {
                loadingModal.remove();
            }, 1500);

            const ai = battleAIModels[aiIndex];

            // Get coin from the correct category
            const category = modalCategories['human'] || 'crypto';
            const assets = battleAssets[category];
            const coin = assets[coinIndex];

            const aiPrediction = humanPrediction === 'BULLISH' ? 'BEARISH' : 'BULLISH';

            battlePlayer1Name = ai.name;
            battlePlayer2Name = localStorage.getItem('userName_' + walletAddress) || 'You';

            closeBattleModal();
            battleInProgress = true;

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-blue-500 rounded-xl p-6 max-w-3xl w-full mx-4 shadow-2xl shadow-blue-500/50">
                    <!-- Header -->
                    <div class="text-center mb-6">
                        <h3 class="text-3xl font-bold text-white mb-3 flex items-center justify-center gap-2">
                            <span class="text-4xl">üß†</span>
                            AI vs Human Battle
                        </h3>
                        <div class="bg-gradient-to-r from-blue-900/30 to-black border border-blue-500/30 rounded-lg p-4 mb-2">
                            <div class="flex items-center justify-center gap-4 flex-wrap">
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Asset:</span>
                                    <span class="font-bold text-white">${coin.name}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Your Prediction:</span>
                                    <span class="font-bold px-3 py-1 rounded-full ${humanPrediction === 'BULLISH' ? 'bg-green-500/20 text-green-400 border border-green-500/50' : 'bg-red-500/20 text-red-400 border border-red-500/50'}">
                                        ${humanPrediction === 'BULLISH' ? 'üìà BULLISH' : 'üìâ BEARISH'}
                                    </span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Timeframe:</span>
                                    <span class="font-bold text-blue-400">${selectedTimeFrameHuman}</span>
                                </div>
                            </div>
                            <div class="mt-3 pt-3 border-t border-white/10">
                                <span class="text-yellow-400 text-sm">üí∞ Your Bet: <span class="font-bold text-xl">${betAmount} AION</span></span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Battle Arena -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="text-center p-6 bg-gradient-to-br from-purple-900/30 to-black border-2 border-purple-500/30 rounded-xl">
                            <div class="text-5xl mb-3">ü§ñ</div>
                            <h4 class="font-bold text-xl text-white mb-1">${ai.name}</h4>
                            <p class="text-sm text-purple-400 mb-2">${ai.accuracy}</p>
                            <div class="inline-block px-3 py-1 rounded-full text-sm font-bold mb-3 ${aiPrediction === 'BULLISH' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}">
                                ${aiPrediction === 'BULLISH' ? 'üìà' : 'üìâ'} ${aiPrediction}
                            </div>
                            <div class="mt-3 text-4xl font-bold text-purple-400" id="ai-score">0</div>
                            <div class="text-xs text-gray-500 mt-1">Score</div>
                        </div>
                        <div class="text-center p-6 bg-gradient-to-br from-orange-900/30 to-black border-2 border-orange-500/30 rounded-xl">
                            <div class="text-5xl mb-3">üë§</div>
                            <h4 class="font-bold text-xl text-white mb-1">You</h4>
                            <p class="text-sm text-orange-400 mb-2">${walletAddress.substring(0, 6)}...${walletAddress.substring(38)}</p>
                            <div class="inline-block px-3 py-1 rounded-full text-sm font-bold mb-3 ${humanPrediction === 'BULLISH' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}">
                                ${humanPrediction === 'BULLISH' ? 'üìà' : 'üìâ'} ${humanPrediction}
                            </div>
                            <div class="mt-3 text-4xl font-bold text-orange-400" id="human-score">0</div>
                            <div class="text-xs text-gray-500 mt-1">Score</div>
                        </div>
                    </div>
                    
                    <!-- Battle Status -->
                    <div class="bg-gradient-to-r from-red-900/30 to-black border border-red-500/30 rounded-lg p-4 mb-4">
                        <div class="text-center">
                            <div class="text-lg font-bold text-white mb-2" id="battle-status">‚ö° Battle starting...</div>
                            <div class="w-full bg-gray-700 rounded-full h-3 overflow-hidden">
                                <div class="bg-gradient-to-r from-blue-500 to-cyan-500 h-3 rounded-full transition-all duration-500" id="battle-progress" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Close Button -->
                    <button onclick="closeBattleModal()" class="w-full bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white py-3 rounded-lg font-bold transition-all border border-gray-600">
                        Close Battle
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
            simulateBattleWithBet('ai-score', 'human-score', betAmount);
        }

        function startHumanvHumanBattle() {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            if (battleInProgress) {
                alert('A battle is already in progress!');
                return;
            }

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-4 max-w-md w-full shadow-2xl shadow-red-500/50 relative overflow-hidden max-h-[90vh] overflow-y-auto">
                    <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-red-500 via-orange-500 to-red-500 animate-pulse"></div>
                    <div class="text-center mb-4 relative">
                        <h3 class="text-xl font-bold text-white">
                            ‚öîÔ∏è Human vs Human Battle
                        </h3>
                        <p class="text-gray-400 text-xs mt-1">‚öôÔ∏è PvP Arena...</p>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üìÇ Category</label>
                        <select id="pvp-category-select" class="w-full bg-white/10 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm" onchange="window.updateBattleCategory('pvp')">
                            <option value="crypto">üí∞ Crypto</option>
                            <option value="market">üìà Market</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">ü™ô Select Asset</label>
                        <select id="pvp-coin-select" class="w-full bg-white/10 border border-red-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold backdrop-blur-sm" onchange="window.updateLivePrice('pvp')">
                            ${battleCoins.map((coin, i) => `<option value="${i}">${coin.name}</option>`).join('')}
                        </select>
                    </div>
                    <div class="mb-3 p-3 bg-gradient-to-r from-green-900/30 to-black border border-green-500/30 rounded-lg backdrop-blur-sm">
                        <div class="flex justify-between items-center mb-1">
                            <span class="text-xs font-bold text-gray-300">üìä Live Price:</span>
                            <span class="text-lg font-bold font-mono text-green-400 animate-pulse" id="pvp-live-price">$0.00</span>
                        </div>
                        <div class="flex items-center gap-1 justify-end">
                            <svg class="w-3 h-3 text-purple-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 2a8 8 0 100 16 8 8 0 000-16zm1 11H9v-2h2v2zm0-4H9V5h2v4z"/>
                            </svg>
                            <span class="text-[10px] text-purple-400 font-semibold">Powered by Pyth Network</span>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üéØ Choose Your Position</label>
                        <div class="grid grid-cols-2 gap-2">
                            <button onclick="selectPvPPosition('BULLISH')" id="pvp-bull" class="p-3 border-2 border-white/20 rounded-lg hover:bg-gradient-to-br hover:from-green-600 hover:to-green-800 hover:border-green-500 transition-all text-white font-bold text-sm">
                                <div class="text-2xl mb-0.5">üìà</div>
                                <div class="font-bold">BULLISH</div>
                                <div class="text-[10px] text-gray-400">Price Will Rise</div>
                            </button>
                            <button onclick="selectPvPPosition('BEARISH')" id="pvp-bear" class="p-3 border-2 border-white/20 rounded-lg hover:bg-gradient-to-br hover:from-red-600 hover:to-red-800 hover:border-red-500 transition-all text-white font-bold text-sm">
                                <div class="text-2xl mb-0.5">üìâ</div>
                                <div class="font-bold">BEARISH</div>
                                <div class="text-[10px] text-gray-400">Price Will Fall</div>
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">‚è±Ô∏è Time Frame</label>
                        <select id="pvp-timeframe" onchange="selectedTimeFramePvP = this.value" class="w-full bg-white/10 border border-yellow-500/30 rounded-lg px-3 py-2 text-white text-sm font-semibold">
                            <option value="M1">M1 - 1 Minute</option>
                            <option value="M5" selected>M5 - 5 Minutes</option>
                            <option value="M10">M10 - 10 Minutes</option>
                            <option value="M15">M15 - 15 Minutes</option>
                            <option value="M30">M30 - 30 Minutes</option>
                            <option value="H1">H1 - 1 Hour</option>
                        </select>
                    </div>
                    <div class="mb-3">
                        <label class="block text-xs font-bold text-gray-300 mb-1">üíé Bet Amount</label>
                        <input type="number" id="pvp-bet-amount" class="w-full bg-white/10 border border-yellow-500/30 rounded-lg px-3 py-2 text-white font-mono text-sm placeholder-gray-500" placeholder="Min. 10 AION" min="10">
                    </div>
                    <div class="bg-yellow-500/10 border border-yellow-500/30 p-3 rounded-lg mb-4">
                        <p class="text-[10px] text-yellow-400 text-center font-mono">‚è≥ Waiting for opponent to join with opposite position...</p>
                    </div>
                    <div class="flex gap-2">
                        <button onclick="readyJoinPvP()" class="flex-1 bg-gradient-to-r from-red-600 to-red-700 text-white py-2.5 rounded-lg hover:from-red-700 hover:to-red-800 font-bold text-sm shadow-lg shadow-red-500/50 transition-all border border-red-500">
                            üöÄ Ready & Join
                        </button>
                        <button onclick="closeBattleModal()" class="flex-1 bg-white/5 border border-white/20 text-gray-300 py-2.5 rounded-lg hover:bg-white/10 font-semibold text-sm transition-all">
                            Cancel
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);

            // Reset to crypto category for this modal
            modalCategories['pvp'] = 'crypto';

            // Set default timeframe to M5
            selectedTimeFramePvP = 'M5';

            // Use event delegation for PvP
            modal.addEventListener('click', function (e) {
                const target = e.target.closest('button');
                if (!target) return;

                // Handle timeframe buttons
                if (target.id && target.id.startsWith('tfp-')) {
                    e.preventDefault();
                    e.stopPropagation();
                    const tf = target.textContent.trim();
                    selectTimeFramePvP(tf);
                }

                // Handle position buttons
                if (target.id === 'pvp-bull') {
                    e.preventDefault();
                    e.stopPropagation();
                    selectPvPPosition('BULLISH');
                }
                if (target.id === 'pvp-bear') {
                    e.preventDefault();
                    e.stopPropagation();
                    selectPvPPosition('BEARISH');
                }
            });

            // Wait for modal to render before updating price
            setTimeout(() => {
                console.log('üöÄ Initializing PvP battle modal prices...');
                const priceEl = document.getElementById('pvp-live-price');
                if (priceEl) {
                    console.log('‚úÖ Price element found, starting updates');
                    updateLivePrice('pvp');
                    startLivePriceAnimation('pvp');
                } else {
                    console.error('‚ùå Price element not found! Retrying...');
                    setTimeout(() => {
                        updateLivePrice('pvp');
                        startLivePriceAnimation('pvp');
                    }, 500);
                }
            }, 200);
        }

        let pvpPosition = null;
        function selectPvPPosition(pos) {
            pvpPosition = pos;
            const btnBull = document.getElementById('pvp-bull');
            const btnBear = document.getElementById('pvp-bear');
            btnBull.classList.remove('bg-gradient-to-br', 'from-green-600', 'to-green-800', 'border-green-500', 'shadow-lg', 'shadow-green-500/50');
            btnBear.classList.remove('bg-gradient-to-br', 'from-red-600', 'to-red-800', 'border-red-500', 'shadow-lg', 'shadow-red-500/50');
            if (pos === 'BULLISH') {
                btnBull.classList.add('bg-gradient-to-br', 'from-green-600', 'to-green-800', 'border-green-500', 'shadow-lg', 'shadow-green-500/50');
            } else {
                btnBear.classList.add('bg-gradient-to-br', 'from-red-600', 'to-red-800', 'border-red-500', 'shadow-lg', 'shadow-red-500/50');
            }
        }

        function readyJoinPvP() {
            const coinIndex = document.getElementById('pvp-coin-select').value;
            const betAmount = document.getElementById('pvp-bet-amount').value;

            if (!selectedTimeFramePvP) {
                showToast('‚ö†Ô∏è Please select a time frame!', 'error');
                return;
            }
            if (!pvpPosition) {
                showToast('‚ö†Ô∏è Please select your position!', 'error');
                return;
            }
            if (!betAmount || betAmount < 10) {
                showToast('‚ö†Ô∏è Minimum bet is 10 AION!', 'error');
                return;
            }

            if (priceInterval) clearInterval(priceInterval);

            const loadingModal = document.createElement('div');
            loadingModal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            loadingModal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-8 text-center shadow-2xl shadow-red-500/50">
                    <div class="text-6xl mb-4 animate-bounce">‚öôÔ∏è</div>
                    <h3 class="text-2xl font-bold text-white mb-2">Deploying AI Agents to Arena...</h3>
                    <div class="w-64 bg-gray-700 rounded-full h-2 mt-4">
                        <div class="bg-gradient-to-r from-red-500 to-orange-500 h-2 rounded-full animate-pulse" style="width: 100%"></div>
                    </div>
                </div>
            `;
            document.body.appendChild(loadingModal);

            setTimeout(() => {
                loadingModal.remove();
            }, 1500);

            // Get coin from the correct category
            const category = modalCategories['pvp'] || 'crypto';
            const assets = battleAssets[category];
            const coin = assets[coinIndex];

            const opponentPosition = pvpPosition === 'BULLISH' ? 'BEARISH' : 'BULLISH';
            const opponentName = ['CryptoKing', 'TraderPro', 'BullMaster', 'BearHunter', 'MoonShot'][Math.floor(Math.random() * 5)];

            battlePlayer1Name = localStorage.getItem('userName_' + walletAddress) || 'You';
            battlePlayer2Name = opponentName;

            closeBattleModal();
            battleInProgress = true;

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-6 max-w-3xl w-full mx-4 shadow-2xl shadow-red-500/50">
                    <!-- Header -->
                    <div class="text-center mb-6">
                        <h3 class="text-3xl font-bold text-white mb-3 flex items-center justify-center gap-2">
                            <span class="text-4xl">‚öîÔ∏è</span>
                            Human vs Human Battle
                        </h3>
                        <div class="bg-gradient-to-r from-red-900/30 to-black border border-red-500/30 rounded-lg p-4 mb-2">
                            <div class="flex items-center justify-center gap-4 flex-wrap">
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Asset:</span>
                                    <span class="font-bold text-white">${coin.name}</span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Your Position:</span>
                                    <span class="font-bold px-3 py-1 rounded-full ${pvpPosition === 'BULLISH' ? 'bg-green-500/20 text-green-400 border border-green-500/50' : 'bg-red-500/20 text-red-400 border border-red-500/50'}">
                                        ${pvpPosition === 'BULLISH' ? 'üìà BULLISH' : 'üìâ BEARISH'}
                                    </span>
                                </div>
                                <div class="flex items-center gap-2">
                                    <span class="text-gray-400 text-sm">Timeframe:</span>
                                    <span class="font-bold text-red-400">${selectedTimeFramePvP}</span>
                                </div>
                            </div>
                            <div class="mt-3 pt-3 border-t border-white/10">
                                <span class="text-yellow-400 text-sm">üí∞ Bet: <span class="font-bold text-xl">${betAmount} AION</span> each</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Battle Arena -->
                    <div class="grid grid-cols-2 gap-6 mb-6">
                        <div class="relative">
                            <div class="text-center p-6 bg-gradient-to-br ${pvpPosition === 'BULLISH' ? 'from-green-900/30' : 'from-red-900/30'} to-black border-2 ${pvpPosition === 'BULLISH' ? 'border-green-500' : 'border-red-500'} rounded-xl shadow-lg ${pvpPosition === 'BULLISH' ? 'shadow-green-500/50' : 'shadow-red-500/50'}">
                                <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-yellow-500 text-black px-3 py-1 rounded-full text-xs font-bold">YOU</div>
                                <div class="text-5xl mb-3">üë§</div>
                                <h4 class="font-bold text-xl text-white mb-1">${localStorage.getItem('userName_' + walletAddress) || 'Anonymous'}</h4>
                                <p class="text-sm text-gray-400 mb-1">${walletAddress.substring(0, 6)}...${walletAddress.substring(38)}</p>
                                <p class="text-xs text-gray-500 mb-2">Win Rate: ${(Math.random() * 30 + 60).toFixed(1)}%</p>
                                <div class="inline-block px-3 py-1 rounded-full text-sm font-bold mb-3 ${pvpPosition === 'BULLISH' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}">
                                    ${pvpPosition === 'BULLISH' ? 'üìà' : 'üìâ'} ${pvpPosition}
                                </div>
                                <div class="mt-3 text-4xl font-bold ${pvpPosition === 'BULLISH' ? 'text-green-400' : 'text-red-400'}" id="p1-score">0</div>
                                <div class="text-xs text-gray-500 mt-1">Score</div>
                            </div>
                        </div>
                        <div class="relative">
                            <div class="text-center p-6 bg-gradient-to-br ${opponentPosition === 'BULLISH' ? 'from-green-900/30' : 'from-red-900/30'} to-black border-2 ${opponentPosition === 'BULLISH' ? 'border-green-500' : 'border-red-500'} rounded-xl shadow-lg ${opponentPosition === 'BULLISH' ? 'shadow-green-500/50' : 'shadow-red-500/50'}">
                                <div class="absolute -top-3 left-1/2 transform -translate-x-1/2 bg-gray-700 text-white px-3 py-1 rounded-full text-xs font-bold">OPPONENT</div>
                                <div class="text-5xl mb-3">üë§</div>
                                <h4 class="font-bold text-xl text-white mb-1">${opponentName}</h4>
                                <p class="text-sm text-gray-400 mb-1">0x${Math.random().toString(16).substr(2, 6)}...</p>
                                <p class="text-xs text-gray-500 mb-2">Win Rate: ${(Math.random() * 30 + 60).toFixed(1)}%</p>
                                <div class="inline-block px-3 py-1 rounded-full text-sm font-bold mb-3 ${opponentPosition === 'BULLISH' ? 'bg-green-500/20 text-green-400' : 'bg-red-500/20 text-red-400'}">
                                    ${opponentPosition === 'BULLISH' ? 'üìà' : 'üìâ'} ${opponentPosition}
                                </div>
                                <div class="mt-3 text-4xl font-bold ${opponentPosition === 'BULLISH' ? 'text-green-400' : 'text-red-400'}" id="p2-score">0</div>
                                <div class="text-xs text-gray-500 mt-1">Score</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Battle Status -->
                    <div class="bg-gradient-to-r from-orange-900/30 to-black border border-orange-500/30 rounded-lg p-4 mb-4">
                        <div class="text-center">
                            <div class="text-lg font-bold text-white mb-2" id="battle-status">‚ö° Battle starting...</div>
                            <div class="w-full bg-gray-700 rounded-full h-3 overflow-hidden">
                                <div class="bg-gradient-to-r from-red-500 to-orange-500 h-3 rounded-full transition-all duration-500" id="battle-progress" style="width: 0%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Close Button -->
                    <button onclick="closeBattleModal()" class="w-full bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-600 hover:to-gray-700 text-white py-3 rounded-lg font-bold transition-all border border-gray-600">
                        Close Battle
                    </button>
                </div>
            `;
            document.body.appendChild(modal);
            simulateBattleWithBet('p1-score', 'p2-score', betAmount);
        }

        function simulateBattle(score1Id, score2Id) {
            let progress = 0;
            let round = 1;
            const interval = setInterval(() => {
                progress += 10;
                document.getElementById('battle-progress').style.width = progress + '%';

                if (round <= 10) {
                    const score1 = Math.floor(Math.random() * 10) + 1;
                    const score2 = Math.floor(Math.random() * 10) + 1;
                    document.getElementById(score1Id).textContent = parseInt(document.getElementById(score1Id).textContent) + score1;
                    document.getElementById(score2Id).textContent = parseInt(document.getElementById(score2Id).textContent) + score2;
                    document.getElementById('battle-status').textContent = `Round ${round}/10`;
                    round++;
                }

                if (progress >= 100) {
                    clearInterval(interval);
                    const finalScore1 = parseInt(document.getElementById(score1Id).textContent);
                    const finalScore2 = parseInt(document.getElementById(score2Id).textContent);
                    const winner = finalScore1 > finalScore2 ? 'Player 1' : 'Player 2';
                    document.getElementById('battle-status').textContent = `üèÜ ${winner} Wins!`;
                    battleInProgress = false;
                }
            }, 500);
        }

        let battlePlayer1Name = '';
        let battlePlayer2Name = '';

        function simulateBattleWithBet(score1Id, score2Id, betAmount) {
            let progress = 0;
            let round = 1;
            const interval = setInterval(() => {
                progress += 10;
                document.getElementById('battle-progress').style.width = progress + '%';

                if (round <= 10) {
                    const score1 = Math.floor(Math.random() * 10) + 1;
                    const score2 = Math.floor(Math.random() * 10) + 1;
                    document.getElementById(score1Id).textContent = parseInt(document.getElementById(score1Id).textContent) + score1;
                    document.getElementById(score2Id).textContent = parseInt(document.getElementById(score2Id).textContent) + score2;
                    document.getElementById('battle-status').textContent = `Round ${round}/10`;
                    round++;
                }

                if (progress >= 100) {
                    clearInterval(interval);
                    const finalScore1 = parseInt(document.getElementById(score1Id).textContent);
                    const finalScore2 = parseInt(document.getElementById(score2Id).textContent);
                    const winner1 = finalScore1 > finalScore2;
                    const winnerName = winner1 ? battlePlayer1Name : battlePlayer2Name;
                    const loserName = winner1 ? battlePlayer2Name : battlePlayer1Name;
                    const isWin = (winner1 && selectedBetSide === 'A') || (!winner1 && selectedBetSide === 'B') || (winner1 && score1Id.includes('ai-score')) || (winner1 && score1Id.includes('p1-score'));
                    const reward = isWin ? betAmount * 1.8 : 0;
                    const profit = isWin ? reward - betAmount : -betAmount;
                    const profitPercent = ((profit / betAmount) * 100).toFixed(1);

                    // Show epic battle result modal
                    showBattleResult(winnerName, loserName, finalScore1, finalScore2, isWin, betAmount, reward, profit, profitPercent);
                    battleInProgress = false;
                }
            }, 500);
        }

        function showBattleResult(winnerName, loserName, score1, score2, isWin, betAmount, reward, profit, profitPercent) {
            // Close existing modal
            const existingModal = document.querySelector('.fixed.inset-0');
            if (existingModal) existingModal.remove();

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50 p-4';

            const resultColor = isWin ? 'green' : 'red';
            const resultGradient = isWin ? 'from-green-600 to-green-800' : 'from-red-600 to-red-800';
            const resultBorder = isWin ? 'border-green-500' : 'border-red-500';
            const resultShadow = isWin ? 'shadow-green-500/50' : 'shadow-red-500/50';

            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 ${resultBorder} rounded-xl p-4 max-w-md w-full shadow-2xl ${resultShadow} relative overflow-hidden">
                    <!-- Animated Background -->
                    <div class="absolute inset-0 opacity-10">
                        <div class="absolute w-full h-full bg-gradient-to-r ${resultGradient} animate-pulse"></div>
                    </div>
                    
                    <!-- Confetti Effect for Win -->
                    ${isWin ? `
                        <div class="absolute inset-0 pointer-events-none">
                            <div class="confetti">üéâ</div>
                            <div class="confetti" style="left: 20%; animation-delay: 0.2s;">‚≠ê</div>
                            <div class="confetti" style="left: 40%; animation-delay: 0.4s;">üí∞</div>
                            <div class="confetti" style="left: 60%; animation-delay: 0.1s;">üèÜ</div>
                            <div class="confetti" style="left: 80%; animation-delay: 0.3s;">‚ú®</div>
                        </div>
                    ` : ''}
                    
                    <div class="relative z-10">
                        <!-- Result Header -->
                        <div class="text-center mb-4">
                            <div class="text-5xl mb-2 animate-bounce">${isWin ? 'üèÜ' : 'üíî'}</div>
                            <h2 class="text-2xl font-black text-white mb-1">
                                ${isWin ? 'VICTORY!' : 'DEFEAT'}
                            </h2>
                            <p class="text-${resultColor}-400 text-sm font-bold">
                                ${isWin ? 'You Won the Battle!' : 'Better Luck Next Time'}
                            </p>
                        </div>

                        <!-- Battle Summary -->
                        <div class="bg-white/5 backdrop-blur-sm rounded-lg p-3 mb-3 border border-white/10">
                            <div class="flex justify-between items-center mb-2">
                                <div class="text-center flex-1">
                                    <div class="text-xl mb-0.5">${score1 > score2 ? 'üëë' : 'üòî'}</div>
                                    <div class="text-white font-bold text-sm">${battlePlayer1Name}</div>
                                    <div class="text-2xl font-black text-${score1 > score2 ? 'green' : 'gray'}-400 mt-1">${score1}</div>
                                </div>
                                <div class="text-2xl text-gray-500 px-3">VS</div>
                                <div class="text-center flex-1">
                                    <div class="text-xl mb-0.5">${score2 > score1 ? 'üëë' : 'üòî'}</div>
                                    <div class="text-white font-bold text-sm">${battlePlayer2Name}</div>
                                    <div class="text-2xl font-black text-${score2 > score1 ? 'green' : 'gray'}-400 mt-1">${score2}</div>
                                </div>
                            </div>
                            <div class="text-center pt-2 border-t border-white/10">
                                <div class="text-yellow-400 font-bold text-sm">üèÜ ${winnerName}</div>
                            </div>
                        </div>

                        <!-- Financial Summary -->
                        <div class="space-y-2 mb-4">
                            <div class="bg-gradient-to-r ${resultGradient} bg-opacity-20 rounded-lg p-3 border border-${resultColor}-500/30">
                                <div class="flex justify-between items-center mb-1.5">
                                    <span class="text-gray-300 text-xs">üí∞ Your Bet:</span>
                                    <span class="text-white font-bold text-sm">${betAmount} AION</span>
                                </div>
                                ${isWin ? `
                                    <div class="flex justify-between items-center mb-1.5">
                                        <span class="text-gray-300 text-xs">üéÅ Reward:</span>
                                        <span class="text-green-400 font-bold text-sm">+${reward.toFixed(2)} AION</span>
                                    </div>
                                    <div class="flex justify-between items-center pt-1.5 border-t border-${resultColor}-500/30">
                                        <span class="text-white font-bold text-xs">üíé Net Profit:</span>
                                        <span class="text-green-400 font-black text-lg">+${profit.toFixed(2)} AION</span>
                                    </div>
                                    <div class="text-center mt-1.5">
                                        <span class="bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full text-xs font-bold">
                                            +${profitPercent}% ROI
                                        </span>
                                    </div>
                                ` : `
                                    <div class="flex justify-between items-center pt-1.5 border-t border-${resultColor}-500/30">
                                        <span class="text-white font-bold text-xs">üí∏ Loss:</span>
                                        <span class="text-red-400 font-black text-lg">-${betAmount} AION</span>
                                    </div>
                                `}
                            </div>

                            <!-- Stats -->
                            <div class="grid grid-cols-3 gap-1.5">
                                <div class="bg-white/5 rounded-lg p-2 text-center border border-white/10">
                                    <div class="text-[10px] text-gray-400 mb-0.5">Rounds</div>
                                    <div class="text-white font-bold text-sm">10</div>
                                </div>
                                <div class="bg-white/5 rounded-lg p-2 text-center border border-white/10">
                                    <div class="text-[10px] text-gray-400 mb-0.5">Duration</div>
                                    <div class="text-white font-bold text-sm">5s</div>
                                </div>
                                <div class="bg-white/5 rounded-lg p-2 text-center border border-white/10">
                                    <div class="text-[10px] text-gray-400 mb-0.5">Multiplier</div>
                                    <div class="text-white font-bold text-sm">1.8x</div>
                                </div>
                            </div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex gap-2 mb-2">
                            <button onclick="closeBattleModal()" class="flex-1 bg-gradient-to-r ${resultGradient} text-white py-2.5 rounded-lg font-bold text-sm hover:opacity-90 transition-all shadow-lg">
                                ${isWin ? 'üéâ Claim' : 'üîÑ Retry'}
                            </button>
                            <button onclick="closeBattleModal()" class="flex-1 bg-white/10 border border-white/20 text-white py-2.5 rounded-lg font-semibold text-sm hover:bg-white/20 transition-all">
                                Close
                            </button>
                        </div>

                        <!-- Share Button -->
                        <button onclick="shareBattleResult(${isWin}, ${profit.toFixed(2)})" class="w-full bg-blue-600/20 border border-blue-500/30 text-blue-400 py-2 rounded-lg text-xs font-semibold hover:bg-blue-600/30 transition-all">
                            üì± Share Result
                        </button>
                    </div>
                </div>
            `;

            document.body.appendChild(modal);

            // Play sound effect (optional)
            if (isWin) {
                // You can add sound here
                console.log('üéµ Victory sound!');
            }
        }

        function shareBattleResult(isWin, profit) {
            const text = isWin
                ? `üèÜ Just won ${profit} AION in AION Battle Arena! üí∞\n\nJoin the action: ${window.location.href}`
                : `‚öîÔ∏è Just battled in AION Arena! Join me: ${window.location.href}`;

            if (navigator.share) {
                navigator.share({
                    title: 'AION Battle Result',
                    text: text
                }).catch(() => { });
            } else {
                navigator.clipboard.writeText(text);
                showToast('üìã Result copied to clipboard!', 'success');
            }
        }

        function closeBattleModal() {
            if (priceInterval) clearInterval(priceInterval);
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) modal.remove();
            battleInProgress = false;
        }

        // Governance Voting
        function voteProposal(proposalId, vote) {
            event.stopPropagation();
            if (!isConnected) {
                showToast('‚ö†Ô∏è Please connect your wallet first!', 'error');
                return;
            }

            const votingPower = document.getElementById('voting-power').textContent;
            if (votingPower === '0') {
                showToast('‚ö†Ô∏è You need AION tokens to vote!', 'error');
                return;
            }

            const voteText = vote === 'for' ? '‚úÖ FOR' : '‚ùå AGAINST';
            const btn = event.target;
            const originalText = btn.textContent;

            btn.disabled = true;
            btn.textContent = 'Processing...';
            btn.classList.add('opacity-50');

            setTimeout(() => {
                btn.textContent = '‚úÖ Voted!';
                btn.classList.remove('opacity-50');
                showToast(`Vote submitted on-chain ‚úÖ\n\nProposal #${proposalId} ‚Ä¢ ${voteText}\nVoting Power: ${votingPower}`, 'success');

                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.disabled = false;
                }, 2000);
            }, 1000);
        }

        function showToast(message, type) {
            const toast = document.createElement('div');
            const bgColor = type === 'success' ? 'from-green-600 to-green-800' : 'from-red-600 to-red-800';
            toast.className = `fixed top-20 right-4 bg-gradient-to-r ${bgColor} text-white px-6 py-4 rounded-xl shadow-2xl z-50 animate-slide-in font-mono text-sm`;
            toast.style.whiteSpace = 'pre-line';
            toast.textContent = message;
            document.body.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slide-out 0.3s ease-out';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        function filterProposals() {
            const status = document.getElementById('filter-status').value;
            const category = document.getElementById('filter-category').value;
            const cards = document.querySelectorAll('.proposal-card');

            cards.forEach(card => {
                const cardStatus = card.dataset.status;
                const cardCategory = card.dataset.category;
                const matchStatus = status === 'all' || cardStatus === status;
                const matchCategory = category === 'all' || cardCategory === category;

                if (matchStatus && matchCategory) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        function openCreateProposal() {
            if (!isConnected) {
                showToast('‚ö†Ô∏è Connect wallet to create proposals', 'error');
                return;
            }

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-8 max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto">
                    <h3 class="text-3xl font-bold text-white mb-6 text-center">‚ú® Create New Proposal</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-bold text-gray-300 mb-2">Proposal Title</label>
                            <input type="text" id="proposal-title" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white" placeholder="Enter proposal title">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-bold text-gray-300 mb-2">Category</label>
                            <select id="proposal-category" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white">
                                <option value="governance">‚öñÔ∏è Governance</option>
                                <option value="market">üìä Market</option>
                                <option value="ai">ü§ñ AI Model</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-bold text-gray-300 mb-2">Description</label>
                            <textarea id="proposal-description" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white h-32" placeholder="Describe your proposal in detail..."></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-bold text-gray-300 mb-2">Voting Duration</label>
                            <select id="proposal-duration" class="w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white">
                                <option value="1">1 Day</option>
                                <option value="3" selected>3 Days</option>
                                <option value="7">7 Days</option>
                                <option value="14">14 Days</option>
                            </select>
                        </div>
                        
                        <div class="bg-yellow-500/10 border border-yellow-500/30 rounded-lg p-4">
                            <p class="text-yellow-400 text-sm font-mono">‚ö†Ô∏è Creating a proposal requires 1,000 AION tokens as deposit</p>
                        </div>
                    </div>
                    
                    <div class="flex gap-3 mt-6">
                        <button onclick="submitProposal()" class="flex-1 bg-gradient-to-r from-red-600 to-red-800 text-white py-3 rounded-lg hover:from-red-700 hover:to-red-900 font-bold transition-all">
                            Submit Proposal
                        </button>
                        <button onclick="closeModal()" class="flex-1 bg-gray-700 text-white py-3 rounded-lg hover:bg-gray-600 font-bold transition-all">
                            Cancel
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function submitProposal() {
            const title = document.getElementById('proposal-title').value;
            const category = document.getElementById('proposal-category').value;
            const description = document.getElementById('proposal-description').value;
            const duration = document.getElementById('proposal-duration').value;

            if (!title || !description) {
                showToast('‚ö†Ô∏è Please fill all required fields', 'error');
                return;
            }

            closeModal();
            showToast(`‚úÖ Proposal submitted successfully!\n\nTitle: ${title}\nCategory: ${category}\nDuration: ${duration} days\n\nYour proposal is now pending review.`, 'success');
        }

        function showProposalDetail(proposalId) {
            const proposals = [
                { id: 1, title: 'Increase AI Model Stake Requirement', category: 'AI Model', forVotes: 12450, againstVotes: 3420, forPct: 78.4, againstPct: 21.6, ends: '12h 30m', voters: 15870 },
                { id: 2, title: 'Add New Market Category: DeFi', category: 'Market', forVotes: 8920, againstVotes: 1240, forPct: 87.8, againstPct: 12.2, ends: '8h 15m', voters: 10160 },
                { id: 3, title: 'Reduce Transaction Fees by 50%', category: 'Governance', forVotes: 5140, againstVotes: 2860, forPct: 64.2, againstPct: 35.8, ends: '2d 5h', voters: 8000 },
                { id: 4, title: 'Enable Multi-Chain Support', category: 'Governance', forVotes: 18420, againstVotes: 1580, forPct: 92.1, againstPct: 7.9, ends: 'Executed', voters: 20000 }
            ];

            const proposal = proposals[proposalId - 1];
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-8 max-w-2xl w-full mx-4">
                    <h3 class="text-3xl font-bold text-white mb-2">${proposal.title}</h3>
                    <p class="text-gray-400 mb-6 font-mono text-sm">Proposal #${proposal.id} ‚Ä¢ ${proposal.category}</p>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-xs text-gray-400 mb-1">For Votes</div>
                            <div class="text-3xl font-bold text-green-400 font-mono">${proposal.forVotes.toLocaleString()}</div>
                            <div class="text-sm text-green-500">${proposal.forPct}%</div>
                        </div>
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-xs text-gray-400 mb-1">Against Votes</div>
                            <div class="text-3xl font-bold text-red-400 font-mono">${proposal.againstVotes.toLocaleString()}</div>
                            <div class="text-sm text-red-500">${proposal.againstPct}%</div>
                        </div>
                    </div>
                    
                    <div class="bg-white/5 rounded-lg p-6 border border-white/10 mb-6">
                        <canvas id="vote-chart" width="400" height="200"></canvas>
                    </div>
                    
                    <div class="flex items-center justify-between mb-6 text-sm text-gray-400 font-mono">
                        <span>‚è≥ ${proposal.ends}</span>
                        <span>üë• ${proposal.voters.toLocaleString()} voters</span>
                    </div>
                    
                    <button onclick="closeModal()" class="w-full bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-bold transition-all">
                        Close
                    </button>
                </div>
            `;
            document.body.appendChild(modal);

            // Draw pie chart
            setTimeout(() => {
                const canvas = document.getElementById('vote-chart');
                if (canvas) {
                    const ctx = canvas.getContext('2d');
                    const centerX = 200;
                    const centerY = 100;
                    const radius = 80;

                    // For slice
                    ctx.beginPath();
                    ctx.moveTo(centerX, centerY);
                    ctx.arc(centerX, centerY, radius, 0, (proposal.forPct / 100) * 2 * Math.PI);
                    ctx.closePath();
                    ctx.fillStyle = '#22c55e';
                    ctx.fill();

                    // Against slice
                    ctx.beginPath();
                    ctx.moveTo(centerX, centerY);
                    ctx.arc(centerX, centerY, radius, (proposal.forPct / 100) * 2 * Math.PI, 2 * Math.PI);
                    ctx.closePath();
                    ctx.fillStyle = '#ef4444';
                    ctx.fill();

                    // Labels
                    ctx.fillStyle = '#fff';
                    ctx.font = 'bold 16px monospace';
                    ctx.fillText(`FOR ${proposal.forPct}%`, 50, 50);
                    ctx.fillText(`AGAINST ${proposal.againstPct}%`, 250, 150);
                }
            }, 100);
        }

        function updateVotingPower() {
            if (isConnected && walletAddress) {
                const power = Math.floor(Math.random() * 500 + 100);
                document.getElementById('voting-power').textContent = power;
            } else {
                document.getElementById('voting-power').textContent = '0';
            }
        }

        // Leaderboard Model Detail
        function showModelDetail(index) {
            const models = [
                { name: 'GPT-4 Oracle Alpha', type: 'GPT-4', accuracy: '95.8%', predictions: '1,247', earned: '$89,230', battles: '12', improvement: '+3.2%', level: '24', xp: '87%', badge: 'üèÜ Oracle Tier' },
                { name: 'Claude Predictor', type: 'Claude-3', accuracy: '93.2%', predictions: '982', earned: '$72,340', battles: '8', improvement: '+1.8%', level: '22', xp: '64%', badge: '‚ö° Elite Predictor' },
                { name: 'Llama Vision Pro', type: 'Llama-3', accuracy: '91.5%', predictions: '1,103', earned: '$65,420', battles: '10', improvement: '+2.1%', level: '20', xp: '52%', badge: 'üß© Visionary' },
                { name: 'Gemini Forecast', type: 'Gemini', accuracy: '89.7%', predictions: '845', earned: '$52,180', battles: '6', improvement: '+1.2%', level: '18', xp: '41%', badge: 'üíé Advanced' },
                { name: 'Mistral Oracle', type: 'Mistral', accuracy: '87.3%', predictions: '723', earned: '$41,920', battles: '5', improvement: '-0.5%', level: '16', xp: '28%', badge: 'üî• Intermediate' }
            ];

            const model = models[index];
            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-gradient-to-br from-gray-900 to-black border-2 border-red-500 rounded-xl p-8 max-w-lg w-full mx-4">
                    <div class="text-center mb-6">
                        <div class="text-6xl mb-3">ü§ñ</div>
                        <h3 class="text-3xl font-bold text-white mb-2">${model.name}</h3>
                        <p class="text-gray-400">${model.type}</p>
                        <span class="inline-block bg-gradient-to-r from-red-600 to-red-800 text-white px-4 py-1 rounded-full text-sm font-bold mt-2">${model.badge}</span>
                    </div>
                    
                    <div class="grid grid-cols-2 gap-4 mb-6">
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-xs text-gray-400 mb-1">Accuracy Rate</div>
                            <div class="text-2xl font-bold text-green-400">${model.accuracy}</div>
                            <div class="text-xs ${model.improvement.includes('+') ? 'text-green-500' : 'text-red-500'}">${model.improvement} this week</div>
                        </div>
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-xs text-gray-400 mb-1">Total Predictions</div>
                            <div class="text-2xl font-bold text-blue-400">${model.predictions}</div>
                            <div class="text-xs text-gray-500">All time</div>
                        </div>
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-xs text-gray-400 mb-1">Total Earned</div>
                            <div class="text-2xl font-bold text-yellow-400">${model.earned}</div>
                            <div class="text-xs text-gray-500">Rewards</div>
                        </div>
                        <div class="bg-white/5 rounded-lg p-4 border border-white/10">
                            <div class="text-xs text-gray-400 mb-1">Active Battles</div>
                            <div class="text-2xl font-bold text-purple-400">${model.battles}</div>
                            <div class="text-xs text-gray-500">This week</div>
                        </div>
                    </div>
                    
                    <div class="bg-white/5 rounded-lg p-4 border border-white/10 mb-6">
                        <div class="flex justify-between text-sm mb-2">
                            <span class="text-gray-400">Level ${model.level}</span>
                            <span class="text-white font-bold">${model.xp} to next tier</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-3">
                            <div class="bg-gradient-to-r from-red-500 to-red-700 h-3 rounded-full" style="width: ${model.xp}"></div>
                        </div>
                    </div>
                    
                    <div class="flex gap-3">
                        <button onclick="closeModal()" class="flex-1 bg-red-600 text-white py-3 rounded-lg hover:bg-red-700 font-bold">
                            Close
                        </button>
                        <button onclick="closeModal(); showPage('battle');" class="flex-1 bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 font-bold">
                            Battle with AI
                        </button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function showAIModelSelection(btn) {
            if (!isConnected) {
                alert('Please connect your wallet first!');
                return;
            }
            currentStakeButton = btn;
            const card = btn.closest('.bg-white');
            const title = card.querySelector('h3').textContent;

            const modal = document.createElement('div');
            modal.className = 'fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50';
            modal.innerHTML = `
                <div class="bg-white rounded-lg p-6 max-w-md w-full mx-4">
                    <h3 class="text-xl font-bold mb-4">Select AI Model</h3>
                    <div class="space-y-2 mb-4">
                        ${aiModels.map((model, i) => `
                            <button onclick="selectAIModel(${i})" class="w-full text-left p-3 border rounded-lg hover:bg-gray-50 hover:border-red-500">
                                ${model}
                            </button>
                        `).join('')}
                    </div>
                    <button onclick="closeModal()" class="w-full bg-gray-300 text-gray-700 py-2 rounded-lg hover:bg-gray-400">Cancel</button>
                </div>
            `;
            document.body.appendChild(modal);
        }

        function selectAIModel(index) {
            selectedAIModel = aiModels[index];
            closeModal();
            const card = currentStakeButton.closest('.bg-white');
            const title = card.querySelector('h3').textContent;
            const amount = prompt(`Stake on: ${title}\nAI Model: ${selectedAIModel}\n\nEnter amount (AION tokens):`);

            if (amount && parseFloat(amount) > 0) {
                currentStakeButton.disabled = true;
                currentStakeButton.textContent = 'Processing...';
                setTimeout(() => {
                    alert(`‚úÖ Successfully staked ${amount} AION!\n\nPrediction: ${title}\nAI Model: ${selectedAIModel}\nAmount: ${amount} AION\nWallet: ${walletAddress.substring(0, 6)}...${walletAddress.substring(38)}`);
                    currentStakeButton.textContent = 'Staked ‚úì';
                    currentStakeButton.classList.remove('bg-red-600', 'hover:bg-red-700');
                    currentStakeButton.classList.add('bg-green-600');
                    setTimeout(() => {
                        currentStakeButton.textContent = 'Stake Now';
                        currentStakeButton.classList.remove('bg-green-600');
                        currentStakeButton.classList.add('bg-red-600', 'hover:bg-red-700');
                        currentStakeButton.disabled = false;
                    }, 3000);
                }, 1500);
            }
        }

        function closeModal() {
            const modal = document.querySelector('.fixed.inset-0');
            if (modal) modal.remove();
        }

        document.querySelectorAll('button').forEach(btn => {
            if (btn.textContent.trim() === 'Stake Now') {
                btn.onclick = function () { showAIModelSelection(this); };
            }
        });
    </script>

    <style>
        /* Theme Transitions */
        * {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        /* CSS Variables for Theme */
        :root {
            --color-primary: #9D5CFF;
            --color-secondary: #00C8FF;
            --color-accent: #C084FC;
            --color-background: #0C0118;
            --color-surface: #1B0A30;
            --color-text: #F1E9FF;
            --color-text-muted: #BDA6E8;
            --gradient-primary: linear-gradient(135deg, #9D5CFF 0%, #00C8FF 100%);
            --shadow-glow: 0 0 20px rgba(157, 92, 255, 0.5);
        }

        /* Glow Effects */
        .glow-text {
            text-shadow: 0 0 8px rgba(157, 92, 255, 0.6);
        }

        .glass-card {
            background: rgba(27, 10, 48, 0.65);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 20px rgba(130, 71, 229, 0.2);
            transition: all 0.3s ease;
        }

        .glass-card:hover {
            box-shadow: 0 0 30px rgba(157, 92, 255, 0.4);
            border: 1px solid rgba(157, 92, 255, 0.4);
            transform: translateY(-2px);
        }

        /* Polygon Glow Animation */
        @keyframes polygon-glow {

            0%,
            100% {
                box-shadow: 0 0 20px rgba(157, 92, 255, 0.3);
            }

            50% {
                box-shadow: 0 0 30px rgba(157, 92, 255, 0.6);
            }
        }

        .animate-glow {
            animation: polygon-glow 3s ease-in-out infinite;
        }

        /* Aura Mode: Animated Gradient Background */
        @keyframes gradientMove {
            0% {
                background-position: 0% 50%;
            }

            50% {
                background-position: 100% 50%;
            }

            100% {
                background-position: 0% 50%;
            }
        }

        /* Aura Mode: Neon Glow on Hover */
        .theme-aura .glass-card:hover {
            box-shadow: 0 0 30px rgba(0, 255, 157, 0.6);
            border: 1px solid rgba(0, 255, 157, 0.5);
            transform: translateY(-4px);
        }

        .theme-aura .glow-text {
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.4);
        }

        .theme-aura h1,
        .theme-aura h2,
        .theme-aura h3 {
            text-shadow: 0 0 10px rgba(0, 255, 157, 0.3);
        }



        /* Navigation Buttons */
        .nav-btn {
            position: relative;
            overflow: hidden;
        }

        .nav-btn.active {
            background: rgba(255, 255, 255, 0.15);
            color: white;
            box-shadow: 0 0 10px rgba(166, 127, 255, 0.3);
        }

        .nav-btn.active::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #a67fff, #fff);
        }

        .nav-btn:not(.active) {
            color: rgba(255, 255, 255, 0.7);
        }

        .nav-btn:not(.active):hover {
            background: rgba(166, 127, 255, 0.15);
            color: white;
        }

        /* Mobile Navigation */
        .nav-btn-mobile {
            color: rgba(255, 255, 255, 0.8);
            transition: all 0.2s ease;
        }

        .nav-btn-mobile.active {
            background: rgba(166, 127, 255, 0.2);
            color: white;
            border-left: 3px solid #a67fff;
        }

        .nav-btn-mobile:not(.active):hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.3;
                transform: scale(1);
            }

            50% {
                opacity: 0.5;
                transform: scale(1.1);
            }
        }

        .animate-pulse {
            animation: pulse 4s ease-in-out infinite;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0px) translateX(0px);
            }

            50% {
                transform: translateY(-20px) translateX(20px);
            }
        }

        /* Confetti Animation */
        .confetti {
            position: absolute;
            top: -10%;
            font-size: 2rem;
            animation: confetti-fall 3s ease-in-out infinite;
            opacity: 0;
        }

        @keyframes confetti-fall {
            0% {
                top: -10%;
                opacity: 1;
                transform: translateX(0) rotate(0deg);
            }

            50% {
                opacity: 1;
                transform: translateX(100px) rotate(180deg);
            }

            100% {
                top: 110%;
                opacity: 0;
                transform: translateX(-50px) rotate(360deg);
            }
        }

        body {
            background: linear-gradient(to bottom right, #111, #1a0000, #000);
            min-height: 100vh;
        }

        @keyframes slide-in {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes slide-out {
            from {
                transform: translateX(0);
                opacity: 1;
            }

            to {
                transform: translateX(400px);
                opacity: 0;
            }
        }

        .animate-slide-in {
            animation: slide-in 0.3s ease-out;
        }
    </style>

    <!-- Footer -->
    <footer style="background: linear-gradient(135deg, #1a0033 0%, #2d0052 50%, #4a0080 100%);"
        class="text-gray-200 py-6 mt-12 border-t border-purple-400/30">
        <div class="container mx-auto px-4">
            <div class="flex flex-col md:flex-row justify-between items-center gap-4">
                <!-- AION Name -->
                <div class="text-center md:text-left">
                    <h3 class="text-white font-bold text-lg mb-1">AION</h3>
                    <p class="text-sm text-gray-400">Autonomous Intelligence Oracle Network</p>
                </div>

                <!-- Social Media Links -->
                <div class="flex items-center gap-4">
                    <a href="https://discord.gg/aion" target="_blank"
                        class="text-gray-300 hover:text-purple-300 transition-colors" title="Discord">
                        <span class="text-2xl">üí¨</span>
                    </a>
                    <a href="https://twitter.com/aion" target="_blank"
                        class="text-gray-300 hover:text-purple-300 transition-colors" title="Twitter">
                        <span class="text-2xl">ùïè</span>
                    </a>
                    <a href="https://t.me/aion" target="_blank"
                        class="text-gray-300 hover:text-purple-300 transition-colors" title="Telegram">
                        <span class="text-2xl">‚úàÔ∏è</span>
                    </a>
                    <a href="https://github.com/0xCryptotech/aion-prediction-market" target="_blank"
                        class="text-gray-300 hover:text-purple-300 transition-colors" title="GitHub">
                        <span class="text-2xl">üíª</span>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Theme System Script -->
    <script src="js/theme.js"></script>

    <!-- Polygon Integration Script -->
    <script src="js/polygon-integration.js"></script>
    
    <!-- Test Helpers (Wave 2) - Remove in production -->
    <script src="js/test-helpers.js"></script>
</body>

</html>